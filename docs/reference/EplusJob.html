<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Run EnergyPlus Simulation and Collect Outputs — EplusJob • eplusr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Run EnergyPlus Simulation and Collect Outputs — EplusJob" />

<meta property="og:description" content="EplusJob class wraps the EnergyPlus command line interface and provides
methods to extract simulation outputs." />

<meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="https://github.com/hongyuanjia/eplusrIntro">Slides</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hongyuanjia/eplusr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Run EnergyPlus Simulation and Collect Outputs</h1>
    <small class="dont-index">Source: <a href='https://github.com/hongyuanjia/eplusr/blob/master/R/job.R'><code>R/job.R</code></a></small>
    <div class="hidden name"><code>EplusJob.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>EplusJob</code> class wraps the EnergyPlus command line interface and provides
methods to extract simulation outputs.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>eplusr uses the EnergyPlus SQL output for extracting simulation outputs.
<code>EplusJob</code> has provide some wrappers that do SQL query to get report data
results, i.e. results from <code>Output:Variable</code> and <code>Output:Meter*</code>. But for
<code>Output:Table</code> results, you have to be familiar with the structure of the
EnergyPlus SQL results, especially for table <em>"TabularDataWithStrings"</em>. For
details, please see <em>"2.20 eplusout.sql"</em>, especially <em>"2.20.4.4 TabularData
Table"</em> in EnergyPlus <em>"Output Details and Examples"</em> documentation.</p>
    
    <h2 class="hasAnchor" id="note"><a class="anchor" href="#note"></a>NOTE</h2>

    
    <p>When using <code>$run()</code> in <a href='Idf.html'>Idf</a> class, which internally creates an <code>EplusJob</code>
object and calls its <code>$run()</code> method, an object in <code>Output:SQLite</code> with
<code>Option Type</code> value of <code>SimpleAndTabular</code> will be automatically created if it
does not exists.</p>
<p>However, when creating an <code>EplusJob</code> using <code><a href='eplus_job.html'>eplus_job()</a></code>, the IDF file is not
parsed but directly pass its path to EnergyPlus. Thus, that process of
handling <code>Output:SQLite</code> class is not performed. If you want to ensure that
the output collection functionality in <code>EplusJob</code> class works successfully,
it is recommended to first read that IDF file using <code><a href='read_idf.html'>read_idf()</a></code> and then use
<code>$run()</code> method in <a href='Idf.html'>Idf</a> class by doing <code>idf$run()</code>.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    <pre>job &lt;- eplus_job(idf, epw)
job$version()
job$path(type = c("all", "idf", "epw"))
job$run(wait = TRUE, force = FALSE)
job$kill()
job$status()
job$errors(info = FALSE)
job$output_dir(open = FALSE)
job$locate_output(suffix = ".err", strict = TRUE)
job$list_table()
job$read_table(name)
job$report_data_dict()
job$report_data(key_value = NULL, name = NULL, year = NULL, tz = "UTC", case = "auto", all = FALSE,
                period = NULL, month = NULL, day = NULL, hour = NULL, minute = NULL,
                interval = NULL, simulation_days = NULL, day_type = NULL, environment_name = NULL)
job$tabular_data(report_name = NULL, report_for = NULL, table_name = NULL, column_name = NULL, row_name = NULL)
job$print()
</pre>
    
    <h2 class="hasAnchor" id="basic-info"><a class="anchor" href="#basic-info"></a>Basic info</h2>

    <pre>job &lt;- eplus_job(idf, epw)
job$version()
job$path(type = c("all", "idf", "epw"))
</pre>
    <p><code>$version()</code> reutrns the version of IDF that current <code>EplusJob</code> uses.</p>
<p><code>$path()</code> returns the path of IDF or EPW of current job.</p>
<p><strong>Arguments</strong></p><ul>
<li><p><code>idf</code>: Path to an local EnergyPlus IDF file or an <a href='Idf.html'>Idf</a> object.</p></li>
<li><p><code>epw</code>: Path to an local EnergyPlus EPW file or an <a href='Epw.html'>Epw</a> object.</p></li>
<li><p><code>type</code>: If <code>"all"</code>, both the <a href='Idf.html'>Idf</a> path and <a href='Epw.html'>Epw</a> path are returned. If
<code>"idf"</code>, only IDF path is returned. If <code>"epw"</code>, only EPW path is returned.
Default: <code>"all"</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="run"><a class="anchor" href="#run"></a>Run</h2>

    <pre>job$run(wait = TRUE, force = FALSE)
job$kill()
job$status()
job$errors(info = FALSE)
</pre>
    <p><code>$run()</code> runs the simulation using input IDF and EPW file. If <code>wait</code>
is <code>FALSE</code>, the job is run in the background. You can get updated job
status by just printing the <code>EplusJob</code> object.</p>
<p><code>$kill()</code> kills the background EnergyPlus process if possible. It only works
when simulation runs in non-waiting mode.</p>
<p><code>$status()</code> returns a named list of values that indicates the status of the
job:</p><ul>
<li><p><code>run_before</code>: <code>TRUE</code> if the job has been run before. <code>FALSE</code> otherwise.</p></li>
<li><p><code>alive</code>: <code>TRUE</code> if the simulation is still running in the background.
<code>FALSE</code> otherwise.</p></li>
<li><p><code>terminated</code>: <code>TRUE</code> if the simulation was terminated during last
simulation. <code>FALSE</code> otherwise. <code>NA</code> if the job has not been run yet.</p></li>
<li><p><code>successful</code>: <code>TRUE</code> if last simulation ended successfully. <code>FALSE</code>
otherwise. <code>NA</code> if the job has not been run yet.</p></li>
<li><p><code>changed_after</code>: <code>TRUE</code> if the IDF file has been changed since last
simulation. <code>FALSE</code> otherwise. <code>NA</code> if the job has not been run yet.</p></li>
</ul>
    <p>$errors() returns an <a href='read_err.html'>ErrFile</a> object which contains all contents
of the simulation error file (<code>.err</code>). If <code>info</code> is <code>FALSE</code>, only warnings
and errors are printed.</p>
<p><strong>Arguments</strong></p><ul>
<li><p><code>wait</code>: If <code>TRUE</code>, R will hang on and wait for the simulation to complete.
EnergyPlus standard output (stdout) and error (stderr) is printed to
R console. If <code>FALSE</code>, simulation will be run in a background process.
Default: <code>TRUE</code>.</p></li>
<li><p><code>force</code>: Only applicable when the last job runs with <code>wait</code> equals
to <code>FALSE</code> and is still running. If <code>TRUE</code>, current running job is
forced to stop and a new one will start. Default: <code>FALSE</code>.</p></li>
<li><p><code>info</code>: If <code>FALSE</code>,only warnings and errors are printed. Default: <code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="simulation-output-extraction"><a class="anchor" href="#simulation-output-extraction"></a>Simulation Output Extraction</h2>

    <pre>job$output_dir(open = FALSE)
job$locate_output(suffix = ".err", strict = TRUE)
job$list_table()
job$read_table(table)
job$report_data_dict()
job$report_data(key_value = NULL, name = NULL, year = NULL, tz = "UTC",case = "auto", all = FALSE,
                period = NULL, month = NULL, day = NULL, hour = NULL, minute = NULL,
                interval = NULL, simulation_days = NULL, day_type = NULL, environment_name = NULL)
job$tabular_data(report_name = NULL, report_for = NULL, table_name = NULL, column_name = NULL, row_name = NULL)
</pre>
    <p><code>$output_dir()</code> returns the output directory of simulation results.</p>
<p><code>$locate_output()</code> returns the path of a single output file specified by file
suffix.</p>
<p><code>$list_table()</code> returns all available table and view names in the SQLite file.</p>
<p><code>$read_table()</code> takes a valid <code>table</code> name of those from <code>$list_table()</code> and
returns that table data in a <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> format.</p>
<p><code>$report_data_dict()</code> returns a <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> which
contains all information about report data. For details on the meaning of
each columns, please see "2.20.2.1 ReportDataDictionary Table" in EnergyPlus
"Output Details and Examples" documentation.</p>
<p><code>$report_data()</code> extracts the report data in a
<a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> using key values, variable names and
other specifications. <code>$report_data()</code> can also directly take all or subset
output from <code>$report_data_dict()</code> as input, and extract all data specified.
The returned column numbers varies depending on <code>all</code> argument.</p><ul>
<li><p><code>all</code> is <code>FALSE</code>, the returned <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> has 6
columns:</p><ul>
<li><p><code>case</code>: Simulation case specified using <code>case</code> argument</p></li>
<li><p><code>datetime</code>: The date time of simulation result</p></li>
<li><p><code>key_value</code>: Key name of the data</p></li>
<li><p><code>name</code>: Actual report data name</p></li>
<li><p><code>units</code>: The data units</p></li>
<li><p><code>value</code>: The data value</p></li>
</ul></li>
<li><p><code>all</code> is <code>TRUE</code>, besides columns described above, extra columns are also
included:</p><ul>
<li><p><code>month</code>: The month of reported date time</p></li>
<li><p><code>day</code>: The day of month of reported date time</p></li>
<li><p><code>hour</code>: The hour of reported date time</p></li>
<li><p><code>minute</code>: The minute of reported date time</p></li>
<li><p><code>dst</code>: Daylight saving time indicator. Possible values: <code>0</code> and <code>1</code></p></li>
<li><p><code>interval</code>: Length of reporting interval</p></li>
<li><p><code>simulation_days</code>: Day of simulation</p></li>
<li><p><code>day_type</code>: The type of day, e.g. <code>Monday</code>, <code>Tuesday</code> and etc.</p></li>
<li><p><code>environment_name</code>: A text string identifying the environment</p></li>
<li><p><code>is_meter</code>: Whether report data is a meter data. Possible values: <code>0</code> and
<code>1</code></p></li>
<li><p><code>type</code>: Nature of data type with respect to state. Possible values: <code>Sum</code>
and <code>Avg</code></p></li>
<li><p><code>index_group</code>: The report group, e.g. <code>Zone</code>, <code>System</code></p></li>
<li><p><code>timestep_type</code>: Type of data timestep. Possible values: <code>Zone</code> and <code>HVAC System</code></p></li>
<li><p><code>reporting_frequency</code>: The reporting frequency of the variable, e.g.
<code>HVAC System Timestep</code>, <code>Zone Timestep</code>.</p></li>
<li><p><code>schedule_name</code>: Name of the the schedule that controls reporting
frequency.</p></li>
</ul></li>
</ul>
    <p>With the <code>datetime</code> column, it is quite straightforward to apply time-series
analysis on the simulation output. However, another painful thing is that
every simulation run period has its own <code>Day of Week for Start Day</code>. Randomly
setting the <code>year</code> may result in a date time series that does not have
the same start day of week as specified in the RunPeriod objects.</p>
<p>eplusr provides a simple solution for this. By setting <code>year</code> to <code>NULL</code>,
which is the default behavior, eplusr will calculate a year value (from
current year backwards) for each run period that compliance with the start
day of week restriction.</p>
<p>It is worth noting that EnergyPlus uses 24-hour clock system where 24 is only
used to denote midnight at the end of a calendar day. In EnergyPlus output,
"00:24:00" with a time interval being 15 mins represents a time period from
"00:23:45" to "00:24:00", and similarly "00:15:00" represents a time period
from "00:24:00" to "00:15:00" of the next day. This means that if current day
is Friday, day of week rule applied in schedule time period "00:23:45" to
"00:24:00" (presented as "00:24:00" in the output) is also Friday, but not
Saturday. However, if you try to get the day of week of time "00:24:00" in R,
you will get Saturday, but not Friday. This introduces inconsistency and may
cause problems when doing data analysis considering day of week value.</p>
<p><code>$tabular_data()</code> extracts the tabular data in a
<a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> using report, table, column and row
name specifications. The returned <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> has
8 columns:</p><ul>
<li><p><code>index</code>: Tabular data index</p></li>
<li><p><code>report_name</code>: The name of the report that the record belongs to</p></li>
<li><p><code>report_for</code>: The <code>For</code> text that is associated with the record</p></li>
<li><p><code>table_name</code>: The name of the table that the record belongs to</p></li>
<li><p><code>column_name</code>: The name of the column that the record belongs to</p></li>
<li><p><code>row_name</code>: The name of the row that the record belongs to</p></li>
<li><p><code>units</code>: The units of the record</p></li>
<li><p><code>value</code>: The value of the record <strong>in string format</strong></p></li>
</ul>
    <p>For convenience, input character arguments matching in <code>$report_data()</code> and
<code>$tabular_data()</code> are <strong>case-insensitive</strong>.</p>
<p><strong>Arguments</strong></p><ul>
<li><p><code>open</code>: If <code>TRUE</code>, the output directory will be opened.</p></li>
<li><p><code>suffix</code>: A string that indicates the file extension of simulation output.
Default: <code>".err"</code>.</p></li>
<li><p><code>strict</code>: If <code>TRUE</code>, it will check if the simulation was terminated, is
still running or the file exists or not. Default: <code>TRUE</code>.</p></li>
<li><p><code>key_value</code>: A character vector to identify key values of the data. If
<code>NULL</code>, all keys of that variable will be returned. <code>key_value</code> can also be
data.frame that contains <code>key_value</code> and <code>name</code> columns. In this case,
<code>name</code> argument in <code>$report_data()</code> is ignored. All available <code>key_value</code>
for current simulation output can be obtained using <code>$report_data_dict()</code>.
Default: <code>NULL</code>.</p></li>
<li><p><code>name</code>: A character vector to identify names of the data. If
<code>NULL</code>, all names of that variable will be returned. If <code>key_value</code> is a
data.frame, <code>name</code> is ignored. All available <code>name</code> for current simulation
output can be obtained using <code>$report_data_dict()</code>.  Default: <code>NULL</code>.</p></li>
<li><p><code>year</code>: Year of the date time in column <code>datetime</code>. If <code>NULL</code>, it
will calculate a year value that meets the start day of week restriction
for each environment. Default: <code>NULL</code>.</p></li>
<li><p><code>tz</code>: Time zone of date time in column <code>datetime</code>. Default: <code>"UTC"</code>.</p></li>
<li><p><code>case</code>: If not <code>NULL</code>, a character column will be added indicates the case
of this simulation. If <code>"auto"</code>, the name of the IDF file without extension
is used.</p></li>
<li><p><code>all</code>: If <code>TRUE</code>, extra columns are also included in the returned
<a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a>.</p></li>
<li><p><code>period</code>: A Date or POSIXt vector used to specify which time period to
return. The year value does not matter and only month, day, hour and
minute value will be used when subsetting. If <code>NULL</code>, all time period of
data is returned. Default: <code>NULL</code>.</p></li>
<li><p><code>month</code>, <code>day</code>, <code>hour</code>, <code>minute</code>: Each is an integer vector for month, day,
hour, minute subsetting of <code>datetime</code> column when querying on the SQL
database. If <code>NULL</code>, no subsetting is performed on those components. All
possible <code>month</code>, <code>day</code>, <code>hour</code> and <code>minute</code> can be obtained using
<code>$read_table("Time")</code>.  Default: <code>NULL</code>.</p></li>
<li><p><code>interval</code>: An integer vector used to specify which interval length of
report to extract. If <code>NULL</code>, all interval will be used. Default: <code>NULL</code>.</p></li>
<li><p><code>simulation_days</code>: An integer vector to specify which simulation day data
to extract. Note that this number resets after warmup and at the beginning
of an environment period. All possible <code>simulation_days</code> can be obtained
using <code>$read_table("Time")</code>. If <code>NULL</code>, all simulation days will be used.
Default: <code>NULL</code>.</p></li>
<li><p><code>day_type</code>: A character vector to specify which day type of data to
extract. All possible day types are: <code>Sunday</code>, <code>Monday</code>, <code>Tuesday</code>,
<code>Wednesday</code>, <code>Thursday</code>, <code>Friday</code>, <code>Saturday</code>, <code>Holiday</code>,
<code>SummerDesignDay</code>, <code>WinterDesignDay</code>, <code>CustomDay1</code>, and <code>CustomDay2</code>. All
possible values for current simulation output can be obtained using
<code>$read_table("Time")</code>.</p></li>
<li><p><code>environment_name</code>: A character vector to specify which environment data to
extract. All possible <code>environment_name</code> for current simulation output can
be obtained using <code>$read_table("EnvironmentPeriods"). </code>If <code>NULL</code>, all
environment data are returned. Default: <code>NULL</code>.</p></li>
<li><p><code>report_name</code>, <code>report_for</code>, <code>table_name</code>, <code>column_name</code>, <code>row_name</code>:
Each is a character vector for subsetting when querying the SQL database.
For the meaning of each argument, please see the description above.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="printing"><a class="anchor" href="#printing"></a>Printing</h2>

    <pre>job$print()
print(job)
</pre>
    <p><code>$print()</code> shows the core information of this <code>EplusJob</code> object, including
the path of model and weather, the version and path of EnergyPlus used to run
simulations, and the simulation job status.</p>
<p><code>$print()</code> is quite useful to get the simulation status, especially when
<code>wait</code> is <code>FALSE</code> in <code>$run()</code>. The job status will be updated and printed
whenever <code>$print()</code> is called.</p>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='ParametricJob.html'>ParametricJob</a> class for EnergyPlus parametric simulations.</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='co'># NOT RUN {</span>
<span class='kw'>if</span> (<span class='fu'><a href='use_eplus.html'>is_avail_eplus</a></span>(<span class='fl'>8.8</span>)) {
    <span class='no'>idf_name</span> <span class='kw'>&lt;-</span> <span class='st'>"1ZoneUncontrolled.idf"</span>
    <span class='no'>epw_name</span> <span class='kw'>&lt;-</span>  <span class='st'>"USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>

    <span class='no'>idf_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"ExampleFiles"</span>, <span class='no'>idf_name</span>)
    <span class='no'>epw_path</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"WeatherData"</span>, <span class='no'>epw_name</span>)

    <span class='co'># copy to tempdir</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/files'>file.copy</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='no'>idf_path</span>, <span class='no'>epw_path</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>())

    <span class='co'># create an EplusJob from local an IDF and an EPW file</span>
    <span class='no'>job</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='eplus_job.html'>eplus_job</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='no'>idf_name</span>), <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='no'>epw_name</span>))

    <span class='co'># get paths of idf and epw</span>
    <span class='no'>job</span>$<span class='fu'>path</span>(<span class='st'>"all"</span>)
    <span class='no'>job</span>$<span class='fu'>path</span>(<span class='st'>"idf"</span>)
    <span class='no'>job</span>$<span class='fu'>path</span>(<span class='st'>"epw"</span>)

    <span class='co'># get current job status</span>
    <span class='no'>job</span>$<span class='fu'>status</span>()

    <span class='co'># check if the job has been run before</span>
    <span class='no'>job</span>$<span class='fu'>status</span>()$<span class='no'>run_before</span>

    <span class='co'># run the job in waiting mode</span>
    <span class='no'>job</span>$<span class='fu'>run</span>(<span class='kw'>wait</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

    <span class='co'># check the job status again</span>
    <span class='no'>job</span>$<span class='fu'>status</span>()$<span class='no'>run_before</span>
    <span class='no'>job</span>$<span class='fu'>status</span>()$<span class='no'>successful</span>

    <span class='co'># get output directory</span>
    <span class='no'>job</span>$<span class='fu'>output_dir</span>()

    <span class='co'># open the output directory</span>
    <span class='no'>job</span>$<span class='fu'>output_dir</span>(<span class='kw'>open</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

    <span class='co'># check simulation errors</span>
    <span class='no'>job</span>$<span class='fu'>errors</span>()

    <span class='co'># check simulation errors, only including warnings and errors</span>
    <span class='no'>job</span>$<span class='fu'>errors</span>(<span class='kw'>info</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

    <span class='co'># get the file path of an output with a given suffix</span>
    <span class='no'>job</span>$<span class='fu'>locate_output</span>(<span class='st'>".err"</span>)

    <span class='co'># give an error when simulation did not complete successfully or that file</span>
    <span class='co'># does not exist</span>
    <span class='no'>job</span>$<span class='fu'>locate_output</span>(<span class='st'>".exe"</span>, <span class='kw'>strict</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

    <span class='co'># retrieve simulation results will fail if there is no EnergyPlus SQL output.</span>
    <span class='no'>job</span>$<span class='fu'>report_data_dict</span>()

    <span class='co'># instead, using `$run()` method in Idf class, which will add an</span>
    <span class='co'># `Output:SQLite` object automatically</span>
    <span class='no'>idf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='no'>idf_name</span>))
    <span class='no'>job</span> <span class='kw'>&lt;-</span> <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='no'>epw_name</span>), <span class='kw'>dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

    <span class='co'># get report data dictionary</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>report_data_dict</span>())

    <span class='co'># extract all report data</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>report_data</span>())

    <span class='co'># extract some report variable</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>report_data</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"EnergyTransfer:Building"</span>, <span class='kw'>case</span> <span class='kw'>=</span> <span class='kw'>NULL</span>))

    <span class='co'># add a "case" column in the returned data.table</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>report_data</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"EnergyTransfer:Building"</span>, <span class='kw'>case</span> <span class='kw'>=</span> <span class='st'>"Test"</span>))

    <span class='co'># change the format of datetime column in the returned data.table</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>report_data</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"EnergyTransfer:Building"</span>, <span class='kw'>year</span> <span class='kw'>=</span> <span class='fl'>2016L</span>, <span class='kw'>tz</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/timezones'>Sys.timezone</a></span>()))

    <span class='co'># get all tabular data</span>
    <span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>job</span>$<span class='fu'>tabular_data</span>())
}
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#details">Details</a></li>

      <li><a href="#note">NOTE</a></li>

      <li><a href="#usage">Usage</a></li>

      <li><a href="#basic-info">Basic info</a></li>

      <li><a href="#run">Run</a></li>

      <li><a href="#simulation-output-extraction">Simulation Output Extraction</a></li>

      <li><a href="#printing">Printing</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Hongyuan Jia</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/hongyuanjia'>Hongyuan Jia</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

