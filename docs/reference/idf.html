<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read, Modify, and Run an EnergyPlus Model — Idf • eplusr</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>


<!-- docsearch -->
<script src="../docsearch.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous" />
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script>


<meta property="og:title" content="Read, Modify, and Run an EnergyPlus Model — Idf" />

<meta property="og:description" content="eplusr provides parsing EnergyPlus Input Data File (IDF) files and strings
in a hierarchical structure, which was extremely inspired by
OpenStudio utilities library,
but with total different data structure under the hook." />

<meta property="og:image" content="https://hongyuanjia.github.io/eplusr/logo.png" />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">eplusr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.10.2.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/eplusr.html">Get started</a>
</li>
<li>
  <a href="https://github.com/hongyuanjia/eplusrIntro">Slides</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/hongyuanjia/eplusr">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
      <form class="navbar-form navbar-right" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
        </div>
      </form>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read, Modify, and Run an EnergyPlus Model</h1>
    <small class="dont-index">Source: <a href='https://github.com/hongyuanjia/eplusr/blob/master/R/idf.R'><code>R/idf.R</code></a></small>
    <div class="hidden name"><code>Idf.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p>eplusr provides parsing EnergyPlus Input Data File (IDF) files and strings
in a hierarchical structure, which was extremely inspired by
<a href='https://openstudio-sdk-documentation.s3.amazonaws.com/cpp/OpenStudio-2.5.1-doc/utilities/html/idf_page.html'>OpenStudio utilities library</a>,
but with total different data structure under the hook.</p>
    
    </div>

        
    <h2 class="hasAnchor" id="overview"><a class="anchor" href="#overview"></a>Overview</h2>

    
    <p>eplusr uses <code>Idf</code> class to present the whole IDF file and use <a href='IdfObject.html'>IdfObject</a>
to present a single object in IDF. Both <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> contain member
functions for helping modify the data in IDF so it complies with the
underlying IDD (EnergyPlus Input Data Dictionary).</p>
<p>Under the hook, eplusr uses a SQL-like structure to store both IDF and IDD
data in different <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table::data.table</a>s. So to modify an EnergyPlus model
in eplusr is equal to change the data in those IDF tables accordingly, in the
context of specific IDD data. This means that a corresponding <a href='Idd.html'>Idd</a> object is
needed whenever creating an <code>Idf</code> object. eplusr provides several
<a href='use_idd.html'>helpers</a> to easily download IDD files and create <a href='Idd.html'>Idd</a> objects.</p>
<p>All IDF reading process starts with function <code><a href='read_idf.html'>read_idf()</a></code> which returns an
<code>Idf</code> object. <code>Idf</code> class provides lots of methods to programmatically query
and modify EnergyPlus models. Below is the detailed documentation on each
method.</p>
    
    <h2 class="hasAnchor" id="usage"><a class="anchor" href="#usage"></a>Usage</h2>

    
    <pre>
model &lt;- read_idf(path)
model$version()
model$path()
model$group_name(all = FALSE, sorted = TRUE)
model$class_name(all = FALSE, sorted = TRUE)
model$is_valid_group(group, all = FALSE)
model$is_valid_class(class, all = FALSE)
model$definition(class)
model$object_id(class = NULL, simplify = FALSE)
model$object_name(class = NULL, simplify = FALSE)
model$is_valid_id(id)
model$is_valid_name(name)
model$object_num(class = NULL)
model$object(which)
model$object_unique(class)
model$objects(which)
model$objects_in_class(class)
model$objects_in_group(group)
model$object_relation(which, direction = c("all", "ref_to", "ref_by"), recursive = FALSE)
model$objects_in_relation(which, direction = c("ref_to", "ref_by"), class = NULL, recursive = FALSE)
model$search_object(pattern, class = NULL, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
model$ClassName
model[[ClassName]]
model$dup(...)
model$add(..., .default = TRUE, .all = FALSE)
model$set(..., .default = TRUE)
model$del(..., .ref_by = FALSE, .ref_to = FALSE, .recursive = FALSE, .force = FALSE)
model$insert(..., .unique = TRUE)
model$load(..., .unique = TRUE, .default = TRUE)
model$update(..., .default = TRUE)
model$rename(...)
model$paste(in_ip = FALSE, ver = NULL, unique = TRUE)
model$search_value(pattern, class = NULL, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
model$replace_value(pattern, class = NULL, replacement, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
model$is_unsaved()
model$validate(level = eplusr_option("validate_level"))
model$is_valid(level = eplusr_option("validate_level"))
model$to_table(which = NULL, class = NULL, string_value = TRUE, unit = FALSE, wide = FALSE)
model$to_string(which = NULL, class = NULL, comment = TRUE, header = TRUE, format = eplusr_option("save_format"), leading = 4L, sep_at = 29L)
model$save(path = NULL, format = eplusr_option("save_format"), overwrite = FALSE, copy_external = TRUE)
model$run(weather = NULL, dir = NULL, wait = TRUE, force = FALSE, copy_external = FALSE)
model$clone(deep = TRUE)
model$print(zoom = c("object", "class", "group", "field"), order = TRUE)
print(model)
</pre>
    
    <h2 class="hasAnchor" id="basic-info"><a class="anchor" href="#basic-info"></a>Basic Info</h2>

    <pre>model &lt;- read_idf(path)
model$version()
model$path()
model$group_name(all = FALSE, sorted = TRUE)
model$class_name(all = FALSE, sorted = TRUE)
model$is_valid_group(group, all = FALSE)
model$is_valid_class(class, all = FALSE)
</pre>
    <p><code>$version()</code> returns the version of current model in a
<a href='https://www.rdocumentation.org/packages/base/topics/numeric_version'>numeric_version</a> format. This makes it easy to
direction compare versions of different model, e.g. <code>model1$version() &gt; 8.6</code>
or <code>model1$version() &gt; model2$version()</code>.</p>
<p><code>$path()</code> returns the full path of current model or <code>NULL</code> if the <code>Idf</code>
object is created using a character vector and not saved locally.</p>
<p><code>$group_name()</code> returns all groups the model contains when <code>all</code> is <code>FALSE</code>
or all groups the underlying <a href='Idd.html'>Idd</a> object contains when <code>all</code> is <code>TRUE</code>.</p>
<p><code>$class_name()</code> returns all classes the model contains when <code>all</code> is <code>FALSE</code>
or all classes the underlying <a href='Idd.html'>Idd</a> object contains when <code>all</code> is <code>TRUE</code>.</p>
<p><code>$is_valid_group()</code> returns <code>TRUE</code>s if given group names are valid for
current model (when <code>all</code> is <code>FALSE</code>) or current underlying <a href='Idd.html'>Idd</a> object
(when <code>all</code> is <code>TRUE</code>).</p>
<p><code>$is_valid_class()</code> returns <code>TRUE</code>s if given class names are valid for
current model (when <code>all</code> is <code>FALSE</code>) or underlying <a href='Idd.html'>Idd</a> object (when <code>all</code>
is <code>TRUE</code>).</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>path</code>: Either a path, a connection, or literal data (either a single
string or a raw vector) to an EnergyPlus Input Data File (IDF).</p></li>
<li><p><code>all</code>: If <code>FALSE</code>, only values in current <code>Idf</code> object will be returned. If
<code>TRUE</code>, all values in the underlying <a href='Idd.html'>Idd</a> will be returned. For
<code>$is_valid_group()</code> and <code>$is_valid_class()</code>, <code>all</code> equals to <code>TRUE</code> means
that input group or class names are checked in all existing ones in the
underlying <a href='Idd.html'>Idd</a> object. Default: <code>FALSE</code>.</p></li>
<li><p><code>sorted</code>: Only applicable when <code>all</code> is <code>FALSE</code>. If <code>TRUE</code>, duplications in
returned group or class names are removed, and unique names are further
sorted according to their occurrences in the underlying <a href='Idd.html'>Idd</a> object.
Default: <code>TRUE</code>.</p></li>
<li><p><code>group</code>: A character vector of valid group names.</p></li>
<li><p><code>class</code>: A character vector of valid class names.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="definition"><a class="anchor" href="#definition"></a>Definition</h2>

    <pre>model$definition(class)
</pre>
    <p><code>$definition()</code> returns an <a href='IddObject.html'>IddObject</a> of given class. <a href='IddObject.html'>IddObject</a> contains
all data used for parsing and creating an <a href='IdfObject.html'>IdfObject</a>. For details, please
see <a href='IddObject.html'>IddObject</a> class.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>class</code>: A <strong>single</strong> string of valid class name in current IDD.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="object-info"><a class="anchor" href="#object-info"></a>Object Info</h2>

    <pre>model$object_id(class = NULL, simplify = FALSE)
model$is_valid_id(id)
model$object_name(class = NULL, simplify = FALSE)
model$is_valid_name(name)
model$object_num(class = NULL)
</pre>
    <p><code>$object_id()</code> returns an integer vector (when <code>simplify</code> is <code>TRUE</code>) or a
named list (when <code>simplify</code> is <code>FALSE</code>) of all object IDs in specified
classes. The returned list is named using specified class names.</p>
<p><code>$object_name()</code> returns a character vector (when <code>simplify</code> is <code>TRUE</code>) or a
named list (when <code>simplify</code> is <code>FALSE</code>) of all object names in specified
classes. The returned list is named using specified class names.</p>
<p><code>$is_valid_id()</code> and <code>$is_valid_name()</code> returns a logical vector whether the
given integer vector or character vector contains valid object IDs or names
respectively. Note that for <code>$is_valid_name()</code>, object name matching is
<strong>case-insensitive</strong>.</p>
<p><code>$object_num()</code> returns an integer vector of object numbers in specified
classes.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>id</code>: An integer vector to check.</p></li>
<li><p><code>name</code>: A character vector to check.</p></li>
<li><p><code>class</code>: A character vector that contains valid class names. If <code>NULL</code>, all
classes in current <code>Idf</code> object are used. Default: <code>NULL</code>.</p></li>
<li><p><code>simplify</code>: If <code>TRUE</code>, an integer vector (for <code>$object_id()</code>) or a
character vector (for <code>$object_name</code>()) is returned. If <code>FALSE</code>, a list
with each element being the data per class is returned. If <code>class</code> is
<code>NULL</code>, the order of classes returned is the same as that in the underlying
<a href='Idd.html'>Idd</a> object. Default: <code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="object-relation"><a class="anchor" href="#object-relation"></a>Object Relation</h2>

    <pre>model$object_relation(which, direction = c("all", "ref_to", "ref_by"), recursive = TRUE)
</pre>
    <p>Many fields in <a href='Idd.html'>Idd</a> can be referred by others. For example, the <code>Outside Layer</code> and other fields in <code>Construction</code> class refer to the <code>Name</code> field
in <code>Material</code> class and other material related classes. Here it means that
the <code>Outside Layer</code> field <strong>refers to</strong> the <code>Name</code> field and the <code>Name</code> field
is <strong>referred by</strong> the <code>Outside Layer</code>.</p>
<p><code>$object_relation()</code> provides a simple interface to get this kind of
relation. It takes a single object ID or name and also a relation direction,
and returns an <code>IdfRelation</code> object which contains data presenting such
relation above. For instance, if <code>model$object_relation("WALL-1", "ref_to")</code>
gives results below:</p><pre>-- Refer to Others ------------------------
  Class: &lt;Construction&gt;
  \- Object [ID:2] &lt;WALL-1&gt;
     \- 2: "WD01";        !- Outside Layer
        v~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
        \- Class: &lt;Material&gt;
           \- Object [ID:1] &lt;WD01&gt;
              \- 1: "WD01";        !- Name
</pre>
    <p>This means that the value <code>"WD01"</code> of <code>Outside Layer</code> in a construction named
<code>WALL-1</code> refers to a material named <code>WD01</code>. All those objects can be further
easily extracted using <code>$objects_in_relation()</code> method described below.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>which</code>: Either a single integer of object ID or a string of object name.</p></li>
<li><p><code>direciton</code>: The relation direction to extract. Should be either <code>"all"</code>,
<code>"ref_to"</code> or "ref_by".</p></li>
<li><p><code>recursive</code>: If <code>TRUE</code>, the relation is searched recursively. A simple
example of recursive reference: one material named <code>mat</code> is referred by a
construction named <code>const</code>, and <code>const</code> is also referred by a surface named
<code>surf</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="object-query"><a class="anchor" href="#object-query"></a>Object Query</h2>

    
    <pre>
model$object(which)
model$objects(which)
model$object_unique(class)
model$objects_in_class(class)
model$objects_in_group(group)
model$objects_in_relation(which, direction = c("ref_to", "ref_by"), class = NULL, recursive = FALSE)
model$search_object(pattern, class = NULL, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
model$ClassName
model[[ClassName]]
</pre>
    <p><code>$object()</code> returns an <a href='IdfObject.html'>IdfObject</a> specified by an object ID or name. Note
that unlike object ID, which is always unique across the whole <code>Idf</code> object,
sometimes different objects can have the same name. If the name given matches
multiple objects, an error is issued showing what objects are matched by the
same name. This behavior is consistent in all methods that take an object
name(s) as input.</p>
<p><code>$object_unique()</code> returns the <a href='IdfObject.html'>IdfObject</a> in unique-object class, e.g.
<code>SimulationControl</code> class. This makes it easy to directly extract and modify
those unique objects, e.g.
<code>model$object_unique("SimulationContrl")$set(...)</code>. Note that if there are
multiple objects in that unique-object class, an error is issued. This makes
sure that <code>$object_unique()</code> always returns a single <a href='IdfObject.html'>IdfObject</a>.</p>
<p><code>$objects()</code> returns a named <strong>list</strong> of <a href='IdfObject.html'>IdfObject</a>s specified by object IDs
or names.</p>
<p><code>$objects_in_class()</code> returns a named <strong>list</strong> of all <a href='IdfObject.html'>IdfObject</a>s in
specified class.</p>
<p><code>$objects_in_group()</code> returns a named <strong>list</strong> of all <a href='IdfObject.html'>IdfObject</a>s in
specified group.</p>
<p><code>$objects_in_relation()</code> returns a named <strong>list</strong> of <a href='IdfObject.html'>IdfObject</a>s that have
specified relations with given object. The first element of returned list is
always the <a href='IdfObject.html'>IdfObject</a> of specified object. If that object does not have
specified relation with other objects in specified <code>class</code>, a list that only
contains that <a href='IdfObject.html'>IdfObject</a> is returned. For instance, assume that <code>const</code> is a
valid object name in <code>Construction</code> class,
<code>model$objects_in_relation("const", "ref_by", "BuildingSurface:Detailed")</code>
will return a named list of an <a href='IdfObject.html'>IdfObject</a> named <code>const</code> and also all other
<a href='IdfObject.html'>IdfObject</a>s in <code>BuildingSurface:Detailed</code> that refer to field values in
<code>const</code>. Similarly, <code>model$objects_in_relation("const", "ref_to", "Material")</code>
will return a named list of an <a href='IdfObject.html'>IdfObject</a> named <code>const</code> and also all other
<a href='IdfObject.html'>IdfObject</a>s in <code>Material</code> class that <code>const</code> refers to. This makes it easy
to directly extract groups of related objects and then use <code>$insert()</code> method
described below to insert them. For example, copy a construction named
<code>const</code> from an <code>Idf</code> object <code>model1</code> to another <code>Idf</code> object <code>model2</code> is
simply to do <code>model2$insert(model1$objects_in_relation("const", "ref_to"))</code>.</p>
<p>There are lots of recursive references in a model. For instance, a material
can be referred by a construction, that construction can be referred by a
building surface, and that building surface can be referred by a window on
that surface. These objects related recursively can be extracted by setting
<code>recursive</code> to <code>TRUE</code>.</p>
<p><code>$search_object()</code> returns a named <strong>list</strong> of <a href='IdfObject.html'>IdfObject</a>s whose names meet
the given pattern in specified classes.</p>
<p>eplusr also provides custom S3 method of <code>$</code> and <code>[[</code> to make it more
convenient to get <a href='IdfObject.html'>IdfObject</a>s in specified class. Basically, <code>model$ClassName</code> and
<code>model[[ClassName]]</code>, where <code>ClassName</code> is a single valid class name, is
equivalent to <code>model$objects_in_class(ClassName)</code> if <code>ClassName</code> is not an
unique-object class and <code>model$object_unique(ClassName)</code> if <code>ClassName</code> is an
unique-object class. For convenience, underscore-style names are allowed, e.g.
<code>BuildingSurface_Detailed</code> is equivalent to <code>BuildingSurface:Detailed</code>. For
instance, <code>model$BuildingSurface_Detailed</code> and also
<code>model[["BuildingSurface:Detailed"]]</code> will return all <a href='IdfObject.html'>IdfObject</a>s in
<code>BuildingSurface:Detailed</code> class; <code>model$Building</code> and also
<code>model[["Building"]]</code> will return the <a href='IdfObject.html'>IdfObject</a> in <code>Building</code> class which
is an unique-object class.</p>
<p><strong>Note</strong>: The returned list from <code>$objects()</code>, <code>$objects_in_class()</code> and
other methods is named using the names of returned <a href='IdfObject.html'>IdfObject</a>s in that list.
This will makes it easy to using object name to do further subsetting, e.g.
<code>model$objects_in_class("Material")$mat</code> will return an <a href='IdfObject.html'>IdfObject</a> named
<code>mat</code> in <code>Material</code> class, and <code>model$objects_in_class("Material")[[1]]</code> will
return the first material in <code>model</code>. If returned <a href='IdfObject.html'>IdfObject</a>s belongs to a
class that does not have name attribute, such like <code>Version</code>,
<code>SimulationControl</code> and etc., <code>NA</code> is assigned as the name.</p>
<p><a href='IdfObject.html'>IdfObject</a> class provides more detailed methods to modify a single object in
an <code>Idf</code>. For detailed explanations, please see <a href='IdfObject.html'>IdfObject</a> class.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>which</code>: A single object ID or name for <code>$object()</code> and
<code>$objects_in_relation()</code>; an integer vector of object IDs or a character
vector of object names for <code>$objects()</code>.</p></li>
<li><p><code>class</code>: A single string of class name for <code>$object_unique()</code> and
<code>$objects_in_class()</code>; a character vector of class names for
<code>$objects_in_relation()</code> and <code>$search_object()</code>.</p></li>
<li><p><code>group</code>: A single string of group name.</p></li>
<li><p><code>pattern</code>, <code>ignore.case</code>, <code>perl</code>, <code>fixed</code> and <code>useBytes</code>: All of them are
directly passed to <a href='https://www.rdocumentation.org/packages/base/topics/grep'>base::grepl</a>.</p></li>
<li><p><code>ClassName</code>: A single string of class name. For <code>[[</code>, <code>ClassName</code> can
be an underscore-style class name, where all characters other than letters
and numbers are replaced by underscores <code>_</code>.</p></li>
<li><p><code>direciton</code>: The relation direction to extract. Should be either <code>"ref_to"</code>
or "ref_by".</p></li>
<li><p><code>recursive</code>: If <code>TRUE</code>, the relation is searched recursively, e.g. one
material named <code>mat</code> is referred by a construction named <code>const</code>, and
<code>const</code> is also referred by a surface named <code>surf</code>, all <code>mat</code>, <code>const</code> and
<code>surf</code> are returned.</p></li>
<li><p><code>ignore.case</code>, <code>perl</code>, <code>fixed</code> and <code>useBytes</code>: All are directly passed to
<a href='https://www.rdocumentation.org/packages/base/topics/grep'>base::grepl</a>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="object-modification"><a class="anchor" href="#object-modification"></a>Object Modification</h2>

    
    <h3>Duplicate Objects</h3>
<pre>model$dup(...)
</pre>
    <code>$dup()</code> takes integer vectors of object IDs and character vectors of object
names, duplicates objects specified, and returns a list of newly created
<a href='IdfObject.html'>IdfObject</a>s. The names of input are used as new names for created
<a href='IdfObject.html'>IdfObject</a>s. If input is not named, new names are the names of duplicated
objects with a suffix <code>"_1"</code>, <code>"_2"</code> and etc, depending on how many times
that object has been duplicated. Note an error will be issued if trying to
assign a new name to an object which does not have name attribute.
    <strong>Note</strong>:
<ul>
<li><p>Assign newly added objects with an existing name in current <code>Idf</code> object is
prohibited if current validation level includes object name conflicting
checking. For details, please see <code><a href='level_checks.html'>level_checks()</a></code>.</p></li>
</ul>
    <strong>Argument</strong>:
<ul>
<li><p><code>...</code>: Integer vectors of object IDs and character vectors of valid
object names. If input has names, they will be used as the names of newly
created objects.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Without new names: <code>model$dup(c("name1", "name2"), 6:10)</code>.</p></li>
<li><p>With new names: <code>model$dup(c(new_name1 = "name1", new_name2 = "name2"), new_name3 = 6)</code>.</p></li>
<li><p>Variable inputs: <code>a &lt;- c("name1", new_name2 = "name2"); b &lt;- 10:20; c &lt;- c(new_name3 = 10); model$dup(a, b, c)</code>.</p></li>
</ul>
    <h3>Add Objects</h3>
<pre>model$add(..., .default = TRUE, .all = FALSE)
</pre>
    <code>$add()</code> takes object definitions in list format, adds corresponding
objects in specified classes, returns a list of newly added <a href='IdfObject.html'>IdfObject</a>s.
Every list should be named with a valid class name. Underscore-style class
name is allowed. Names in list element are treated as field names. Values
without names will be inserted according to their position. There is a
special element named <code>.comment</code> in each list, which will be used as the
comments of newly added object.
    <strong>Note</strong>:
<ul>
<li><p>Empty objects can be added using an empty list, e.g. <code>model$add(building = list())</code>. All empty fields will be filled with corresponding default value
if <code>.default</code> is <code>TRUE</code>, leaving other fields as blank. However, adding
blank objects may not be successful if required fields are not valued and
current validate level includes missing-required-field checking. For what
kind of validation components to be performed during modifications, please
see <code><a href='level_checks.html'>level_checks()</a></code>.</p></li>
<li><p>Field name matching is <strong>case-insensitive</strong>. For convenience,
underscore-style field names are also allowed, e.g. <code>eNd_MoNtH</code> is
equivalent to <code>End Month</code>.</p></li>
<li><p>There is no need to give all field values if only specific fields are
interested, unless other fields are not required. For example, to define a
new object in <code>RunPeriod</code> class, the following is enough:
<code>model$add(RunPeriod = list(begin_month = 1, begin_day_of_month = 1, end_month = 1, end_day_of_month = 31), .default = TRUE)</code>.</p></li>
<li><p>If not all field names are given, positions of those values without field
names are determined after those values with names. E.g. in
<code>model$add(Construction = list("out_layer", name = "name"))</code>, <code>"out_layer"</code>
will be treated as the value of field <code>Outside Layer</code> in <code>Construction</code>
class, as value of field <code>Name</code> has been given as <code>"name"</code>.</p></li>
</ul>
    <strong>Arguments</strong>:
<ul>
<li><p><code>...</code>: Lists of object definitions. Each list should be named with a valid
class name. There is a special element <code>.comment</code> in each list, which will
be used as the comments of newly added object.</p></li>
<li><p><code>.default</code>: If <code>TRUE</code>, default values are used for those blank fields if
possible. If <code>FALSE</code>, each required field in input object must have one
value. Otherwise, an error will be issued during validation. Default:
<code>TRUE</code>.</p></li>
<li><p><code>.all</code>: If <code>TRUE</code>, all fields are added, otherwise only minimum fields are
added. Default: <code>FALSE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Empty object with default values: <code>model$add(Building = list(), .default = TRUE)</code>.</p></li>
<li><p>Empty object with comments: <code>model$add(Building = list(.comment = c("This", "is", "a", "comment")))</code>.</p></li>
<li><p>Empty object with all fields: <code>model$add(Building = list(), .all = TRUE)</code>.</p></li>
<li><p>New objects: <code>model$add(RunPeriod = list("rp", 1, 1, end_month = 2, 1, "Monday"), list(Construction = list("const", "mat"), Material = list("mat")))</code>.</p></li>
<li><p>New objects with comments: <code>model$add(RunPeriod = list("rp", 1, 1, 2, 1, .comment = "comment1"))</code>.</p></li>
<li><p>Variable inputs: <code>x &lt;- list(Construction = list("const"), Building = list()); model$add(x)</code>.</p></li>
</ul>
    <h3>Set Values of Existing Objects</h3>
<pre>model$set(..., .default = TRUE)
</pre>
    <code>$set()</code> takes new field value definitions in list format, sets new
values for fields in objects specified, and returns a list of modified
<a href='IdfObject.html'>IdfObject</a>s. Every list in <code>$set()</code> should be named with a
valid object name. Object ID can also be used but have to be combined with
prevailing two periods <code>..</code>, e.g. <code>..10</code> indicates the object with ID <code>10</code>.
Similar to <code>$add()</code>, a special element <code>.comment</code> in each list will be used
as the <strong>new</strong> comments for modified object, overwriting the old ones. Names
in list element are treated as field names.
    <strong>Note</strong>:
<ul>
<li><p>You can delete a field by assigning <code>NULL</code> to it, e.g. <code><a href='https://www.rdocumentation.org/packages/base/topics/list'>list(fld = NULL)</a></code> means to delete the value of field <code>fld</code>. If <code>.default</code> is FALSE,
also <code>fld</code> is not a required field and the index of <code>fld</code> is larger than
the number minimum fields required for that class, it will be deleted.
Otherwise it will be left as blank. If <code>.default</code> is <code>TRUE</code>, that field
will be filled with default value if applicable and left as blank if not.</p></li>
<li><p>New fields that currently do not exist in that object can also be set. They
will be automatically added on the fly.</p></li>
<li><p>Field name matching is <strong>case-insensitive</strong>. For convenience,
underscore-style field names are also allowed, e.g. <code>eNd_MoNtH</code> is
equivalent to <code>End Month</code>.</p></li>
<li><p>If not all field names are given, positions of those values without field
names are determined after those values with names. E.g. in
<code>model$set(Construction = list("out_layer", name = "name"))</code>, <code>"out_layer"</code>
will be treated as the value of field <code>Outside Layer</code> in <code>Construction</code>, as
value of field <code>Name</code> has been given as <code>"name"</code>.</p></li>
</ul>
    <strong>Arguments</strong>:
<ul>
<li><p><code>...</code>: Lists of object definitions. Each list should be named with a valid
object name or a valid object ID denoted in style <code>..1</code>, <code>..2</code> and etc.
There is a special element <code>.comment</code> in each list, which will be used as
new comments of modified object, overwriting existing ones.</p></li>
<li><p><code>.default</code>: If <code>TRUE</code>, default values are used for those blank fields if
possible. Default: <code>TRUE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Specify object with name: <code>model$set(Object_Name = list(val1, val2, val3))</code>.</p></li>
<li><p>Specify object with ID: <code>model$set(..8 = list(val1))</code>.</p></li>
<li><p>Overwrite existing object comments: <code>model$set(..8 = list(.comment = c("new", "comment")))</code>.</p></li>
<li><p>Delete field value: <code>model$set(Object_Name = list(Field_1 = NULL), .default = FALSE)</code>.</p></li>
<li><p>Assign default field value: <code>model$set(Object_Name = list(Field_1 = NULL), .default = TRUE)</code>.</p></li>
<li><p>Variable input: <code>a &lt;- list(Object_Name = list(Field_1 = val1)); model$set(a, .default = TRUE)</code>.</p></li>
<li><p>Set all values of field <code>fld</code> in a class <code>cls</code>:</p></li>
</ul><pre>ids &lt;- model$object_id("cls", simplify = TRUE)
val &lt;- rep(list(list(fld = val)), times = length(ids))
names(val) &lt;- paste0("..", ids)
model$set(val)
</pre>
    <h3>Deleting Existing Objects</h3>
<pre>model$del(..., .ref_by = FALSE, .ref_to = FALSE, .recursive = FALSE, .force = FALSE)
</pre>
    <code>$del()</code> takes integer vectors of object IDs and character vectors of object
names, and deletes objects specified. If <code>.ref_by</code> is <code>TRUE</code>, objects
whose fields refer to input objects will also be deleted. IF <code>.ref_to</code> is
<code>TRUE</code>, objects whose fields are referred by input objects will also be
deleted.
    <strong>Note</strong>:
<ul>
<li><p>If current <a href='level_checks.html'>validate level</a> includes reference checking,
objects will not be allowed to be deleted if they are referred by other
objects. For example, an error will be issued if you want to delete one
material that is referred by other constructions, because doing so will
result in invalid field value references. You may bypass this if you really
want to by setting <code>.force</code> to <code>TRUE</code>.</p></li>
<li><p>When <code>.ref_by</code> or <code>.ref_to</code> is <code>TRUE</code>, objects are only deleted when they
only have relation with input objects. For example, a construction <code>const</code>
consist of 4 different materials. If <code>.ref_to</code> is <code>TRUE</code>, that 4 materials
will only be deleted when they are only used in <code>const</code>, but not used in
any other objects.</p></li>
<li><p>There are recursively reference relations in <code>Idf</code> object. For example, one
material's name is referenced by one construction, and that construction's
name can be referred by another surface. You can delete all of them by
setting <code>.recursive</code> to <code>TRUE</code>.</p></li>
</ul>
    <strong>Arguments</strong>:
<ul>
<li><p><code>.ref_by</code>: If <code>TRUE</code>, objects whose fields refer to input objects will
also be deleted. Default: <code>FALSE</code>.</p></li>
<li><p><code>.ref_to</code>: If <code>TRUE</code>, objects whose fields are referred by input objects
will also be deleted. Default: <code>FALSE</code>.</p></li>
<li><p><code>.recursive</code>: If <code>TRUE</code>, relation searching is performed recursively, in
case that objects whose fields refer to target object are also referred by
another object, and also objects whose fields are referred by target object
are also referred by another object. Default: <code>FALSE</code>.</p></li>
<li><p><code>.force</code>: If <code>TRUE</code>, objects are deleted even if they are referred by other
objects.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Specify object with name: <code>model$del("Object_Name1", "Object_Name2")</code>.</p></li>
<li><p>Specify object with ID: <code>model$del(1, 2, 10)</code>.</p></li>
<li><p>Delete objects even they are referred by other objects: <code>model$del(1:5, .force = TRUE)</code></p></li>
<li><p>Delete objects and also other objects that refer to them: <code>model$del(2, "Object_Name1", .ref_by = TRUE)</code></p></li>
<li><p>Delete objects and also other objects that refer to them recursively:
<code>model$del(1:5, .ref_by = TRUE, .recursive = TRUE)</code></p></li>
<li><p>Delete objects and also other objects that input objects refer to: <code>model$del(1:5, .ref_to = TRUE)</code></p></li>
<li><p>Variable input: <code>x &lt;- c("Object_Name1", "Object_Name2"); y &lt;- c(1:5); model$del(x, y)</code>.</p></li>
</ul>
    <h3>Rename Objects</h3>
<pre>model$rename(...)
</pre>
    <code>$rename()</code> takes named character vectors of object names and named integer
vectors of object IDs, renames specified object to names of input vectors and
returns a list of renamed <a href='IdfObject.html'>IdfObject</a>s. An error will be issued if trying to
"rename" an object which does not have name attribute.
    <strong>Argument</strong>:
<ul>
<li><p><code>...</code>: Integer vectors of valid object IDs and character vectors of valid
object names. Each element should be named. That name is used at the new
object name.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Rename objects: <code>model$rename(c(new_name1 = "name1", new_name2 = "name2"), new_name3 = 6)</code>.</p></li>
<li><p>Variable inputs: <code>a &lt;- c(new_name1 = "name1", new_name2 = "name2"); b &lt;- c(new_name3 = 10); model$rename(a, b)</code>.</p></li>
</ul>
    <h3>Insert Objects</h3>
<pre>model$insert(..., .unique = TRUE)
</pre>
    <code>$insert()</code> takes <a href='IdfObject.html'>IdfObject</a>s or lists of <a href='IdfObject.html'>IdfObject</a>s as input, inserts
them into current Idf, and returns a list of inserted <a href='IdfObject.html'>IdfObject</a>s.
    <strong>Note</strong>:
<ul>
<li><p>You cannot insert an <a href='IdfObject.html'>IdfObject</a> which comes from a different version than
current <code>Idf</code> object.</p></li>
<li><p>If input <a href='IdfObject.html'>IdfObject</a> has the same name as one <a href='IdfObject.html'>IdfObject</a> in current <code>Idf</code>
object but field values are not equal, an error may be issued if current
validation level includes conflicted-name checking. For what kind of
validation components to be performed during modifications, please see
<code><a href='level_checks.html'>level_checks()</a></code>.</p></li>
</ul>
    <strong>Argument</strong>:
<ul>
<li><p><code>...</code>: <a href='IdfObject.html'>IdfObject</a>s or lists of <a href='IdfObject.html'>IdfObject</a>s.</p></li>
<li><p><code>.unique</code>: If there are duplications in input <a href='IdfObject.html'>IdfObject</a>s or there is same
object in current <code>Idf</code> object, duplications in input are removed. Default:
<code>TRUE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Insert objects without new names: <code>model1$insert(model2$Material)</code>.</p></li>
<li><p>Insert an object without new name: <code>model1$insert(my_material = model2$Material[[1]])</code>.</p></li>
<li><p>Insert objects but keep duplications: <code>model1$insert(model1$Output_Variable)</code>.</p></li>
<li><p>Variable input: <code>mat &lt;- model2$Material; names(mat) &lt;- c("mat1", "mat2"); model1$insert(mat)</code>.</p></li>
</ul>
    <h3>Load Objects from characters or data.frames</h3>
<pre>model$load(..., .unique = TRUE, .default = TRUE)
</pre>
    <code>$load()</code> is similar to <code>$insert()</code> except it takes directly character
vectors or data.frames of <a href='IdfObject.html'>IdfObject</a> definitions, insert corresponding
objects into current <code>Idf</code> object and returns a list of newly added
<a href='IdfObject.html'>IdfObject</a>s. This makes it easy to create objects using the output from
<code>$to_string()</code> and <code>$to_table</code> method from <a href='Idd.html'>Idd</a>, <a href='IddObject.html'>IddObject</a>, also
Idf and <a href='IdfObject.html'>IdfObject</a> class.
    For object definitions in character vector format, they follow the same rules
as normal IDF file. Each object starts with a class name and a comma (<code>,</code>),
separates each values with a comma (<code>,</code>) and ends with a semicolon (<code>;</code>).
Noted that you can also provide headers to indicate if input objects are
presented in IP units, using <code>!-Option ViewInIPunits</code>. If this header does
not exist, then all values are treated as in SI units.
    For object definitions in data.frame format, it is highly recommended to use
<code>$to_table()</code> method in <a href='Idd.html'>Idd</a>, <a href='IddObject.html'>IddObject</a>, <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. A
valid definition requires at least three columns described below. Note that
column order does not matter.
<ul>
<li><p><code>class</code>: <strong>Mandatory</strong>. Character type. Valid class names in the underlying
<a href='Idd.html'>Idd</a> object. You can get all valid class names using
<code>use_idd(model$version())$class_name()</code></p></li>
<li><p><code>index</code>: <strong>Mandatory</strong>. Integer type. Valid field indexes for each class.</p></li>
<li><p><code>value</code>: <strong>Mandatory</strong>. Character type or list type. The value of each field
to be added.</p><ul>
<li><p>If <code>value</code> is a character column, usually when <code>string_value</code> is <code>TRUE</code>
in method <code>$to_table()</code> in <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. Each value should
be given as a string even if the corresponding field is a numeric type.</p></li>
<li><p>If <code>value</code> is a list column, usually when <code>string_value</code> is set to
<code>FALSE</code> in method <code>$to_table()</code> in <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. Each value
should have the right type  as the corresponding field definition.
Otherwise, errors will be issued during if current validation level
includes invalid-type checking. For what kind of validation components to
be performed during modifications, please see <code><a href='level_checks.html'>level_checks()</a></code>.</p></li>
</ul></li>
<li><p><code>id</code>: <strong>Optional</strong>. Integer type. If input data.frame includes multiple
object definitions in a same class, the value in <code>id</code> will be used to
distinguish each definition. If <code>id</code> column does not exists, it assumes
that each definition is separated by <code>class</code> column and will issue an error
if there is any duplication in the <code>index</code> column.</p></li>
</ul>
    <strong>Note</strong>:
<ul>
<li><p><code>$load()</code> assume all definitions are from the same version as current <code>Idf</code>
object. If input definition is from different version, parsing error may
occur.</p></li>
</ul>
    <strong>Argument</strong>:
<ul>
<li><p><code>...</code>: Character vectors or data.frames of object definitions For details,
see above.</p></li>
<li><p><code>.unique</code>: If there are duplications in input <a href='IdfObject.html'>IdfObject</a>s or there is same
object in current Idf, duplications in input are removed. Default: <code>TRUE</code>.</p></li>
<li><p><code>.default</code>: If <code>TRUE</code>, default values are used for those blank fields if
possible. Default: <code>TRUE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Load objects from string definitions:</p><pre>model$load(c(
    "Material,",
    "    mat,                     !- Name",
    "    MediumSmooth,            !- Roughness",
    "    0.667,                   !- Thickness {m}",
    "    0.115,                   !- Conductivity {W/m-K}",
    "    513,                     !- Density {kg/m3}",
    "    1381;                    !- Specific Heat {J/kg-K}",
    "Construction,
     const,
     mat;
    "
))
</pre></li>
<li><p>Load objects from data.frame definitions:</p><pre>dt &lt;- model1$to_table(class = "Material")
dt[field == "thickness", value := "0.5"]
model$load(dt)
</pre></li>
</ul>
    <h3>Update Objects from characters or data.frames</h3>
<pre>model$update(..., .unique = TRUE, .default = TRUE)
</pre>
    <code>$update()</code> is similar to <code>$load()</code> except it update field values.  This
makes it easy to update object values using the output from <code>$to_string()</code>
and <code>$to_table</code> method from <a href='Idd.html'>Idd</a>, <a href='IddObject.html'>IddObject</a>, also Idf and <a href='IdfObject.html'>IdfObject</a>
class.
    For object definitions in character vector format, object names are used to
locate which objects to update. Objects that have name attribute should have
valid names. This means that there is no way to update object names using
character vector format, but it can be achieved using data.frame format as it
uses object IDs instead of object names to locate objects.
    For object definitions in data.frame format, it is highly recommended to use
<code>$to_table()</code> method in <a href='Idd.html'>Idd</a>, <a href='IddObject.html'>IddObject</a>, <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. A
valid definition requires four columns described below. Note that
column order does not matter.
<ul>
<li><p><code>id</code>: Integer type. The value in <code>id</code> should be valid object IDs for current
<code>Idf</code>.</p></li>
<li><p><code>class</code>: Character type. Valid class names for current <code>Idf</code>.</p></li>
<li><p><code>index</code>: Integer type. Valid field indexes for each class. If input field
does not exist in specified object, it will be added on the fly.</p></li>
<li><p><code>value</code>: Character type or list type. The value of each field
to be added.</p><ul>
<li><p>If <code>value</code> is a character column, usually when <code>string_value</code> is <code>TRUE</code>
in method <code>$to_table()</code> in <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. Each value should
be given as a string even if the corresponding field is a numeric type.</p></li>
<li><p>If <code>value</code> is a list column, usually when <code>string_value</code> is set to
<code>FALSE</code> in method <code>$to_table()</code> in <code>Idf</code> and <a href='IdfObject.html'>IdfObject</a> class. Each value
should have the right type  as the corresponding field definition.
Otherwise, errors will be issued during if current validation level
includes invalid-type checking. For what kind of validation components to
be performed during modifications, please see <code><a href='level_checks.html'>level_checks()</a></code>.</p></li>
</ul></li>
</ul>
    <strong>Note</strong>:
<ul>
<li><p><code>$update()</code> assume all definitions are from the same version as current
<code>Idf</code> object. If input definition is from different version, parsing error
may occur.</p></li>
</ul>
    <strong>Argument</strong>:
<ul>
<li><p><code>...</code>: Character vectors or data.frames of object definitions For details,
see above.</p></li>
<li><p><code>.default</code>: If <code>TRUE</code>, default values are used for those blank fields if
possible. Default: <code>TRUE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Update objects from string definitions:</p><pre>str &lt;- model$Material[[1]]$to_string()
str[4] &lt;- "0.8"
model$update(str)
</pre></li>
<li><p>Update objects from data.frame definitions:</p><pre>dt &lt;- model1$to_table(class = "Material")
dt[field == "thickness", value := "0.5"]
model$update(dt)
</pre></li>
</ul>
    <h3>Paste Objects from IDF Editor</h3>
<pre>model$paste(in_ip = FALSE, ver = NULL, unique = TRUE)
</pre>
    <code>$paste()</code> reads the contents (from clipboard) of copied objects from IDF
Editor (after hitting <code>Copy Obj</code> button), parses it and inserts corresponding
objects into current Idf. As IDF Editor only available on Windows platform,
<code>$paste()</code> only works on Windows too.
    <strong>Note</strong>:
<ul>
<li><p>There is no version data copied to the clipboard when copying objects in
IDF Editor. It is possible that IDF Editor opens an IDF with different
version than current IDF. Please check the version before running
<code>$paste()</code>, or explicitly specify the version of file opened by IDF Editor
using <code>ver</code> parameter. Parsing error may occur if there is a version
mismatch.</p></li>
</ul>
    <strong>Arguments</strong>:
<ul>
<li><p><code>in_ip</code>: Set to <code>TRUE</code> if the IDF file is open with <code>Inch-Pound</code>
view option toggled. Numeric values will automatically converted to SI
units if necessary. Default: <code>FALSE</code>.</p></li>
<li><p><code>ver</code>: The version of IDF file opened by IDF Editor, e.g. 8.6, "8.8.0". If
<code>NULL</code>, assume that the file has the same version as current Idf object.
Default: <code>NULL</code>.</p></li>
<li><p><code>unique</code>: If there are duplications in copied objects from IDF Editor or
there is same object in current Idf, duplications in input are removed.
Default: <code>TRUE</code>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Paste objects from same version: <code>model$paste()</code>.</p></li>
<li><p>Paste objects from different version: <code>model$paste(ver = "version")</code>.</p></li>
<li><p>Paste objects that are viewed in IP units in IDF Editor: <code>model$paste(in_ip = TRUE)</code>.</p></li>
<li><p>Paste objects but also keep duplications: <code>model$paste(unique = FALSE)</code>.</p></li>
</ul>
    <h3>Search and Replace Values</h3>
<pre>model$search_value(pattern, class = NULL, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
model$replace_value(pattern, class = NULL, replacement, ignore.case = FALSE, perl = FALSE, fixed = FALSE, useBytes = FALSE)
</pre>
    <code>$search_value()</code> returns a list of <a href='IdfObject.html'>IdfObject</a>s that contain values which
match the given pattern. If no matched found, <code>NULL</code> is returned invisibly.
    <code>$replace_value()</code> returns a list of <a href='IdfObject.html'>IdfObject</a>s whose values have been
replace with given pattern. If no matched found, <code>NULL</code> is returned
invisibly.
    <strong>Note</strong>:
<ul>
<li><p>During matching, all values are treated as characters, including numeric
values.</p></li>
<li><p>Replacing values using regular expression is not recommended, because it is
error prone. Validation rules also apply during replacing.</p></li>
</ul>
    <strong>Arguments</strong>:
<ul>
<li><p><code>class</code>: A character vector of invalid class names in current <code>Idf</code> object
to search for values. If <code>NULL</code>, all classes are used.</p></li>
<li><p><code>pattern</code>, <code>replacement</code>, <code>ignore.case</code>, <code>perl</code>, <code>fixed</code> and <code>useBytes</code>:
All of them are directly passed to <a href='https://www.rdocumentation.org/packages/base/topics/grep'>base::grepl</a> and
<a href='https://www.rdocumentation.org/packages/base/topics/grep'>base::gsub</a>.</p></li>
</ul>
    <strong>Usage</strong>:
<ul>
<li><p>Search values that contains <code>supply</code>: <code>model$search_value("supply")</code></p></li>
<li><p>Search values that contains <code>supply</code> or <code>demand</code> in class <code>Branch</code>: <code>model$search_value("supply|demand", "Branch")</code></p></li>
<li><p>Search values that contains <code>win</code> and replace them with <code>windows</code>: <code>model$replace_value("win", "windows")</code></p></li>
</ul>
    
    <h2 class="hasAnchor" id="validation"><a class="anchor" href="#validation"></a>Validation</h2>

    <pre>model$validate(level = eplusr_option("validate_level"))
model$is_valid(level = eplusr_option("validate_level"))
</pre>
    <p><code>$validate()</code> checks if there are errors in current <code>Idf</code> under specified
validation level and returns an <code>IdfValidity</code> object which contains data of
invalid field values. Different validation result examples are shown below:</p><ul>
<li><p>No error is found:</p><pre>v No error found.
</pre>
    <p>Above result shows that there is no error found after conducting all
validation checks in specified validation level.</p></li>
<li><p>Errors are found:</p><pre> x [2] Errors found during validation.
=========================================================================
    -- [2] Invalid Autocalculate Field --------------------------------------
   Fields below cannot be `autocalculate`:
    Class: &lt;AirTerminal:SingleDuct:VAV:Reheat&gt;
    \- Object [ID:176] &lt;SPACE5-1 VAV Reheat&gt;
       +- 17: AUTOCALCULATE, !- Maximum Flow per Zone Floor Area During Reheat {m3/s-m2}
       \- 18: AUTOCALCULATE; !- Maximum Flow Fraction During Reheat
</pre></li>
</ul>
    <p>Above validation results show that after all validation components performed
under current validation level, 2 invalid field values are found. All of them
are in object named <code>SPACE5-1 VAV Reheat</code> with ID <code>176</code>. They are invalid
because those two fields do not have an autocalculatable attribute but are
given <code>AUTOCALCULATE</code> value. Knowing this info, one simple way to fix the
error is to set those two fields to correct value by doing <code>idf$set(..176 = list(</code>Maximum Flow per Zone Floor Area During Reheat<code>= "autosize",</code>Maximum Flow Fraction During Reheat<code> = "autosize" ))</code></p>
<p><code>$is_valid()</code> returns <code>TRUE</code> if there is no error in current <code>Idf</code> object
under specified validation level and <code>FALSE</code> otherwise.</p>
<p>Underneath, an <code>IdfValidity</code> object which <code>$validate()</code> returns is a list of
13 element as shown below. Each element or several elements represents the
results from a single validation checking component. In total, There are 10
different validation check components. To get the meaning of each component,
please see <code><a href='level_checks.html'>level_checks()</a></code> and <code><a href='custom_validate.html'>custom_validate()</a></code>.</p><ul>
<li><p><code>missing_object</code></p></li>
<li><p><code>duplicate_object</code></p></li>
<li><p><code>conflict_name</code></p></li>
<li><p><code>incomplete_extensible</code></p></li>
<li><p><code>missing_value</code></p></li>
<li><p><code>invalid_autosize</code></p></li>
<li><p><code>invalid_autocalculate</code></p></li>
<li><p><code>invalid_character</code></p></li>
<li><p><code>invalid_numeric</code></p></li>
<li><p><code>invalid_integer</code></p></li>
<li><p><code>invalid_choice</code></p></li>
<li><p><code>invalid_range</code></p></li>
<li><p><code>invalid_reference</code></p></li>
</ul>
    <p>Except <code>missing_object</code>, which is a character vector, all other elements
are <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> with 9 columns containing data of
invalid field values:</p><ul>
<li><p><code>object_id</code>: IDs of objects that contain invalid values</p></li>
<li><p><code>object_name</code>: names of objects that contain invalid values</p></li>
<li><p><code>class_id</code>: indexes of classes that invalid objects belong to</p></li>
<li><p><code>class_name</code>: names of classes that invalid objects belong to</p></li>
<li><p><code>field_id</code>: indexes (at Idd level) of object fields that are invalid</p></li>
<li><p><code>field_index</code>: indexes of object fields in corresponding that are invalid</p></li>
<li><p><code>field_name</code>: names (without units) of object fields that are invalid</p></li>
<li><p><code>units</code>: SI units of object fields that are invalid</p></li>
<li><p><code>ip_units</code>: IP units of object fields that are invalid</p></li>
<li><p><code>type_enum</code>: An integer vector indicates types of invalid fields</p></li>
<li><p><code>value_id</code>: indexes (at Idf level) of object field values that are invalid</p></li>
<li><p><code>value_chr</code>: values (converted to characters) of object fields that are
invalid</p></li>
<li><p><code>value_num</code>: values (converted to numbers in SI units) of object fields
that are invalid</p></li>
</ul>
    <p>Knowing the internal structure of <code>IdfValidity</code>, it is easy to extract
invalid <a href='IdfObject.html'>IdfObject</a>s you interested in. For example, you can get all IDs of
objects that contain invalid value references using
<code>model$validate()$invalid_reference$object_id</code>. Then using <code>$set()</code> method
to correct them.</p>
    
    <h2 class="hasAnchor" id="data-extraction"><a class="anchor" href="#data-extraction"></a>Data Extraction</h2>

    <pre>model$to_table(which = NULL, class = NULL, string_value = TRUE, unit = FALSE, wide = FALSE)
model$to_string(which = NULL, class = NULL, comment = TRUE, header = TRUE, format = eplusr_option("save_format"), leading = 4L, sep_at = 29L)
</pre>
    <p><code>$to_table()</code> returns a <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a> that contains
core data of specified objects. It has 6 columns:</p><ul>
<li><p><code>id</code>: Integer type. Object IDs.</p></li>
<li><p><code>name</code>: Character type. Object names.</p></li>
<li><p><code>class</code>: Character type. Current class name.</p></li>
<li><p><code>index</code>: Integer type. Field indexes.</p></li>
<li><p><code>field</code>: Character type. Field names.</p></li>
<li><p><code>value</code>: Character type if <code>string_value</code> is <code>TRUE</code> or list type if
<code>string_value</code> is <code>FALSE</code>. Field values.</p></li>
</ul>
    <p><code>$to_string()</code> returns the text format of an IDF file.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>which</code>: Either an integer vector of valid object IDs or a character vector
of valid object names. If <code>NULL</code>, the whole <code>Idf</code> object is converted.
Default: <code>NULL</code>.</p></li>
<li><p><code>class</code>: A character vector of class names. If <code>NULL</code>, all classed in
current <code>Idf</code> object is converted. Default: <code>NULL</code>.</p></li>
<li><p><code>string_value</code>: If <code>TRUE</code>, all field values are returned as character. If
<code>FALSE</code>, <code>value</code> column in returned <a href='https://www.rdocumentation.org/packages/data.table/topics/data.table'>data.table</a>
is a list column with each value stored as corresponding type. Note that if
the value of numeric field is set to <code>"Autosize"</code> or <code>"Autocalculate"</code>, it
is left as it is, leaving the returned type being a string instead of a
number.  Default: <code>TRUE</code>.</p></li>
<li><p><code>unit</code>: Only applicable when <code>string_value</code> is <code>FALSE</code>. If <code>TRUE</code>, values
of numeric fields are assigned with units using <code><a href='https://www.rdocumentation.org/packages/units/topics/set_units'>units::set_units()</a></code> if
applicable. Default: <code>FALSE</code>.</p></li>
<li><p><code>wide</code>: Only applicable if target objects belong to a same class. If
<code>TRUE</code>, a wide table will be returned, i.e. first three columns are always
<code>id</code>, <code>name</code> and <code>class</code>, and then every field in a separate column.
Default: <code>FALSE</code>.</p></li>
<li><p><code>comment</code>: If <code>FALSE</code>, all comments will not be included. Default: <code>TRUE</code>.</p></li>
<li><p><code>header</code>: If <code>FALSE</code>, the header will not be included. Default: <code>TRUE</code>.</p></li>
<li><p><code>format</code>: Specific format used when formatting. For details, please see
<code>$save()</code>. Default: <code><a href='eplusr_option.html'>eplusr_option("save_format")</a></code></p></li>
<li><p><code>leading</code>: Leading spaces added to each field. Default: <code>4L</code>.</p></li>
<li><p><code>sep_at</code>: The character width to separate value string and field string.
Default: <code>29L</code> which is the same as IDF Editor.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="save"><a class="anchor" href="#save"></a>Save</h2>

    <pre>model$is_unsaved()
model$save(path = NULL, format = eplusr_option("save_format"), overwrite = FALSE, copy_external = TRUE)
</pre>
    <p><code>$is_unsaved()</code> returns <code>TRUE</code> if there are modifications on the model since
it was read or since last time it was saved and <code>FALSE</code> otherwise.</p>
<p><code>$save()</code> saves the <code>Idf</code> object as an IDF file.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>path</code>: A path where to save the model. If <code>NULL</code>, the path of the <code>Idf</code>
itself, i.e. <code>model$path()</code>, will be used.</p></li>
<li><p><code>format</code>: A string to specify the saving format. Should be one of <code>"asis"</code>,
<code>"sorted"</code>, <code>"new_top"</code>, and <code>"new_bot"</code>.</p><ul>
<li><p>If <code>"asis"</code>, the model will be saved in the same format as it was when
first read. If the model does not contain any format saving option, which
is typically the case when the model was not saved using eplusr or
IDFEditor, <code>"sorted"</code> will be used.</p></li>
<li><p><code>"sorted"</code>, <code>"new_top"</code> and <code>"new_bot"</code> are the same as the save options
<code>"Sorted"</code>, <code>"Original with New at Top"</code>, and <code>"Original with New at Bottom"</code> in IDFEditor. Default: <code><a href='eplusr_option.html'>eplusr_option("save_format")</a></code>.</p></li>
</ul></li>
<li><p><code>overwrite</code>: Whether to overwrite the file if it already exists. Default:
<code>FALSE</code>.</p></li>
<li><p><code>copy_external</code>: If <code>TRUE</code>, the external files that current Idf depends on
will also be copied into the same directory. The values of file paths in
the Idf will be changed into relative path automatically. This makes it
possible to create fully reproducible simulation conditions. Currently,
only <code>Schedule:File</code> class is supported. Default: <code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="clone"><a class="anchor" href="#clone"></a>Clone</h2>

    <pre>model$clone(deep = TRUE)
</pre>
    <p><code>$clone()</code> returns the exactly the same cloned model. Because <code>Idf</code> uses
<code><a href='https://www.rdocumentation.org/packages/R6/topics/R6Class'>R6::R6Class()</a></code> under the hook which has "modify-in-place" semantics, <code>idf_2 &lt;- idf_1</code> does not copy <code>idf_1</code> at all but only create a new binding to
<code>idf_1</code>.  Modify <code>idf_1</code> will also affect <code>idf_2</code> as well, as these two are
exactly the same thing underneath. In order to create a complete cloned copy,
use <code>$clone(deep = TRUE)</code>.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>deep</code>: Has to be <code>TRUE</code> if a complete cloned copy is desired. Default:
<code>TRUE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="run-model"><a class="anchor" href="#run-model"></a>Run Model</h2>

    <pre>model$run(weather, dir = NULL, wait = TRUE, force = FALSE, copy_external = FALSE)
</pre>
    <p><code>$run()</code> calls corresponding version of EnergyPlus to run the current model
together with specified weather. The model and the weather used will be
copied into the output directory. An <a href='EplusJob.html'>EplusJob</a> object is returned which
provides detailed info of the simulation and methods to collect simulation
results. Please see <a href='EplusJob.html'>EplusJob</a> for details.</p>
<p><strong>Note</strong>:</p><ul>
<li><p>eplusr uses the EnergyPlus command line interface which was introduced
since EnergyPlus 8.3.0. So <code>$run()</code> only supports models with version no
lower than 8.3.0.</p></li>
<li><p>eplusr uses the EnergyPlus SQL output for extracting simulation results. In
order to do so, an object in <code>Output:SQLite</code> class with <code>Option Type</code> value
being <code>SimpleAndTabular</code> will be automatically created if it does not
exists.</p></li>
</ul>
    <p><strong>Arguments</strong>:</p><ul>
<li><p><code>weather</code>: A path to an <code>.epw</code> file or an <a href='Epw.html'>Epw</a> object.</p></li>
<li><p><code>dir</code>: The directory to save the simulation results. If <code>NULL</code>, the model
folder will be used. Default: NULL</p></li>
<li><p><code>wait</code>: Whether to wait until the simulation completes and print the
standard output and error of EnergyPlus to the screen. If <code>FALSE</code>, the
simulation will run in the background. Default is <code>TRUE</code>.</p></li>
<li><p><code>force</code>: Only applicable when the last simulation runs with <code>wait</code> equals
to <code>FALSE</code> and is still running. If <code>TRUE</code>, current running job is
forced to stop and a new one will start. Default: <code>FALSE</code>.</p></li>
<li><p><code>copy_external</code>: If <code>TRUE</code>, the external files that current <code>Idf</code> object
depends on will also be copied into the simulation output directory. The
values of file paths in the Idf will be changed automatically. Currently,
only <code>Schedule:File</code> class is supported.  This ensures that the output
directory will have all files needed for the model to run. Default is
<code>FALSE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="print"><a class="anchor" href="#print"></a>Print</h2>

    <pre>model$print(zoom = c("object", "class", "group", "field"), order = TRUE)
print(model)
</pre>
    <p><code>$print()</code> prints the <code>Idf</code> object according to different detail level
specified using the <code>zoom</code> argument.</p>
<p>With the default <code>zoom</code> level <code>object</code>, contents of the <code>Idf</code> object is
printed in a similar style as you see in IDF Editor, with additional heading
lines showing <code>Path</code>, <code>Version</code> of the <code>Idf</code> object. Class names of objects
are ordered by group and the number of objects in classes are shown in square
bracket.</p>
<p><strong>Arguments</strong>:</p><ul>
<li><p><code>zoom</code>: Control how detailed of the Idf object should be printed. Should be
one of <code>"group"</code>, <code>"class"</code>, <code>"object"</code> and <code>"field"</code>. Default: <code>"group"</code>.</p><ul>
<li><p><code>"group"</code>: all group names current existing are shown with prevailing
square bracket showing how many **&lt;C&gt;**lasses existing in that group.</p></li>
<li><p><code>"class"</code>: all class names are shown with prevailing square bracket
showing how many **&lt;O&gt;**bjects existing in that class, together with
parent group name of each class.</p></li>
<li><p><code>"object"</code>: all object IDs and names are shown, together with parent
class name of each object.</p></li>
<li><p><code>"field"</code>: all object IDs and names, field names and values are shown,
together with parent class name of each object.</p></li>
</ul></li>
<li><p><code>order</code>: Only applicable when <code>zoom</code> is <code>"object"</code> or <code>"field"</code>. If <code>TRUE</code>,
objects are shown as the same order in the IDF. If <code>FALSE</code>, objects are
grouped and ordered by classes. Default: <code>TRUE</code>.</p></li>
</ul>
    
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='IdfObject.html'>IdfObject</a> class</p></div>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># ===== CREATE =====</span>
<span class='co'># read an IDF file</span>
<span class='no'>idf</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/1ZoneUncontrolled.idf"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"eplusr"</span>),
    <span class='kw'>idd</span> <span class='kw'>=</span> <span class='fu'><a href='use_idd.html'>use_idd</a></span>(<span class='fl'>8.8</span>, <span class='kw'>download</span> <span class='kw'>=</span> <span class='st'>"auto"</span>))

<span class='co'># ===== MODEL BASIC INFO =====</span>
<span class='co'># get version</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/Version'>version</a></span>()</div><div class='output co'>#&gt; [1] '8.8.0'</div><div class='input'>
<span class='co'># get path</span>
<span class='no'>idf</span>$<span class='fu'>path</span>()</div><div class='output co'>#&gt; [1] "C:\\Users\\hongy\\Dropbox\\github_repo\\eplusr\\inst\\extdata\\1ZoneUncontrolled.idf"</div><div class='input'>
<span class='co'># get names of all groups in current model</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>idf</span>$<span class='fu'>group_name</span>())</div><div class='output co'>#&gt;  chr [1:8] "Simulation Parameters" "Location and Climate" "Schedules" ...</div><div class='input'>
<span class='co'># get names of all defined groups in the IDD</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>idf</span>$<span class='fu'>group_name</span>(<span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt;  chr [1:58] "Simulation Parameters" "Compliance Objects" ...</div><div class='input'>
<span class='co'># get names of all classes in current model</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>idf</span>$<span class='fu'>class_name</span>())</div><div class='output co'>#&gt;  chr [1:27] "Version" "SimulationControl" "Building" ...</div><div class='input'>
<span class='co'># get names of all defined classes in the IDD</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/str'>str</a></span>(<span class='no'>idf</span>$<span class='fu'>class_name</span>(<span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>))</div><div class='output co'>#&gt;  chr [1:789] "Version" "SimulationControl" "Building" "ShadowCalculation" ...</div><div class='input'>
<span class='co'># check if input is a valid group name in current model</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_group</span>(<span class='st'>"Schedules"</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='no'>idf</span>$<span class='fu'>is_valid_group</span>(<span class='st'>"Compliance Objects"</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># check if input is a valid group name in IDD</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_group</span>(<span class='st'>"Compliance Objects"</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># check if input is a valid class name in current model</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_class</span>(<span class='st'>"Building"</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='no'>idf</span>$<span class='fu'>is_valid_class</span>(<span class='st'>"ShadowCalculation"</span>)</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
<span class='co'># check if input is a valid class name in IDD</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_class</span>(<span class='st'>"ShadowCalculation"</span>, <span class='kw'>all</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'>
<span class='co'># ===== OBJECT DEFINITION (IDDOBJECT) =====</span>
<span class='co'># get the a list of underlying IddObjects</span>
<span class='no'>idf</span>$<span class='fu'>definition</span>(<span class='st'>"Version"</span>)</div><div class='output co'>#&gt; &lt;IddObject: `Version`&gt;
#&gt; -- MEMO ------------------------------------------------------------------------
#&gt;   "Specifies the EnergyPlus version of the IDF file."
#&gt; 
#&gt; -- PROPERTIES ------------------------------------------------------------------
#&gt;   * Group: `Simulation Parameters`
#&gt;   * Unique: TRUE
#&gt;   * Required: FALSE
#&gt;   * Total fields: 1
#&gt; 
#&gt; -- FIELDS ----------------------------------------------------------------------
#&gt;   1: Version Identifier</div><div class='input'>
<span class='co'># ===== OBJECT INFO =====</span>
<span class='co'># get IDs of objects in classes</span>
<span class='no'>idf</span>$<span class='fu'>object_id</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Version"</span>, <span class='st'>"Zone"</span>))</div><div class='output co'>#&gt; $Version
#&gt; [1] 1
#&gt; 
#&gt; $Zone
#&gt; [1] 18
#&gt; </div><div class='input'>
<span class='co'># when `simplify` is TRUE, an integer vector will be returned instead of a</span>
<span class='co'># named list</span>
<span class='no'>idf</span>$<span class='fu'>object_id</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Version"</span>, <span class='st'>"Zone"</span>), <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1]  1 18</div><div class='input'>
<span class='co'># get names of objects in classes</span>
<span class='co'># NA will be returned if targeted class does not have a name attribute</span>
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Building"</span>, <span class='st'>"Zone"</span>, <span class='st'>"Version"</span>))</div><div class='output co'>#&gt; $Building
#&gt; [1] "Simple One Zone (Wireframe DXF)"
#&gt; 
#&gt; $Zone
#&gt; [1] "ZONE ONE"
#&gt; 
#&gt; $Version
#&gt; [1] NA
#&gt; </div><div class='input'>
<span class='co'># if `simplify` is TRUE, a character vector will be returned instead of a</span>
<span class='co'># named list</span>
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Building"</span>, <span class='st'>"Zone"</span>, <span class='st'>"Version"</span>), <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)</div><div class='output co'>#&gt; [1] "Simple One Zone (Wireframe DXF)" "ZONE ONE"                       
#&gt; [3] NA                               </div><div class='input'>
<span class='co'># get number of objects in classes</span>
<span class='no'>idf</span>$<span class='fu'>object_num</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Zone"</span>, <span class='st'>"Schedule:Compact"</span>))</div><div class='output co'>#&gt; [1] 1 0</div><div class='input'>
<span class='co'># check if input is a valid object ID, i.e. there is an object whose ID is</span>
<span class='co'># the same with input integer</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_id</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>51</span>, <span class='fl'>1000</span>))</div><div class='output co'>#&gt; [1]  TRUE FALSE</div><div class='input'>
<span class='co'># check if input is a valid object name, i.e., there is an object whose name is</span>
<span class='co'># the same with input string</span>
<span class='no'>idf</span>$<span class='fu'>is_valid_name</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Simple One Zone (Wireframe DXF)"</span>, <span class='st'>"ZONE ONE"</span>))</div><div class='output co'>#&gt; [1] TRUE TRUE</div><div class='input'>
<span class='co'># ===== OBJECT QUERY =====</span>
<span class='co'># get single object using object ID or name</span>
<span class='co'># NOTE: object name matching is case-insensitive</span>
<span class='no'>idf</span>$<span class='fu'>object</span>(<span class='fl'>3</span>)</div><div class='output co'>#&gt; &lt;IdfObject: `Building`&gt; [ID:3] `Simple One Zone (Wireframe DXF)`
#&gt; Class: &lt;Building&gt;
#&gt; +- 1: "Simple One Zone (Wireframe DXF)",  !- Name
#&gt; |- 2: 0,                  !- North Axis {deg}
#&gt; |- 3: "Suburbs",          !- Terrain
#&gt; |- 4: 0.04,               !- Loads Convergence Tolerance Value
#&gt; |- 5: 0.004,              !- Temperature Convergence Tolerance Value {delta...
#&gt; |- 6: "MinimalShadowing", !- Solar Distribution
#&gt; |- 7: 30,                 !- Maximum Number of Warmup Days
#&gt; \- 8: 6;                  !- Minimum Number of Warmup Days</div><div class='input'><span class='no'>idf</span>$<span class='fu'>object</span>(<span class='st'>"simple one zone (wireframe dxf)"</span>)</div><div class='output co'>#&gt; &lt;IdfObject: `Building`&gt; [ID:3] `Simple One Zone (Wireframe DXF)`
#&gt; Class: &lt;Building&gt;
#&gt; +- 1: "Simple One Zone (Wireframe DXF)",  !- Name
#&gt; |- 2: 0,                  !- North Axis {deg}
#&gt; |- 3: "Suburbs",          !- Terrain
#&gt; |- 4: 0.04,               !- Loads Convergence Tolerance Value
#&gt; |- 5: 0.004,              !- Temperature Convergence Tolerance Value {delta...
#&gt; |- 6: "MinimalShadowing", !- Solar Distribution
#&gt; |- 7: 30,                 !- Maximum Number of Warmup Days
#&gt; \- 8: 6;                  !- Minimum Number of Warmup Days</div><div class='input'>
<span class='co'># get objects using object IDs or names</span>
<span class='co'># NOTE: object name matching is case-insensitive</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>objects</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='fl'>3</span>,<span class='fl'>10</span>))</div><div class='output co'>#&gt; $`Simple One Zone (Wireframe DXF)`
#&gt; &lt;IdfObject: `Building`&gt; [ID:3] `Simple One Zone (Wireframe DXF)`
#&gt; Class: &lt;Building&gt;
#&gt; +- 1: "Simple One Zone (Wireframe DXF)",  !- Name
#&gt; |- 2: 0,                  !- North Axis {deg}
#&gt; |- 3: "Suburbs",          !- Terrain
#&gt; |- 4: 0.04,               !- Loads Convergence Tolerance Value
#&gt; |- 5: 0.004,              !- Temperature Convergence Tolerance Value {delta...
#&gt; |- 6: "MinimalShadowing", !- Solar Distribution
#&gt; |- 7: 30,                 !- Maximum Number of Warmup Days
#&gt; \- 8: 6;                  !- Minimum Number of Warmup Days
#&gt; 
#&gt; $`Denver Centennial  Golden   N Ann Htg 99% Condns DB`
#&gt; &lt;IdfObject: `SizingPeriod:DesignDay`&gt; [ID:10] `Denver Centennial  Golden   N Ann Htg 99% Condns DB`
#&gt; -- COMMENTS --------------------------------------------------------------------
#&gt; !  WMO=724666 Time Zone=NAM: (GMT-07:00) Mountain Time (US &amp; Canada)
#&gt; !  Data Source=ASHRAE 2009 Annual Design Conditions
#&gt; ! Denver Centennial  Golden   N_CO_USA Annual Heating Design Conditions Win...
#&gt; ! Coldest Month=DEC
#&gt; ! Denver Centennial  Golden   N_CO_USA Annual Heating 99%, MaxDB=-15.5°C
#&gt; -- VALUES ----------------------------------------------------------------------
#&gt; Class: &lt;SizingPeriod:DesignDay&gt;
#&gt; +- 01: "Denver Centennial  Golden   N Ann Htg 99% Condns DB",  !- Name
#&gt; |- 02: 12,                 !- Month
#&gt; |- 03: 21,                 !- Day of Month
#&gt; |- 04: "WinterDesignDay",  !- Day Type
#&gt; |- 05: -15.5,              !- Maximum Dry-Bulb Temperature {C}
#&gt; |- 06: 0,                  !- Daily Dry-Bulb Temperature Range {deltaC}
#&gt; |- 07: &lt;"Blank"&gt;,          !- Dry-Bulb Temperature Range Modifier Type
#&gt; |- 08: &lt;"Blank"&gt;,          !- Dry-Bulb Temperature Range Modifier Day Sched...
#&gt; |- 09: "Wetbulb",          !- Humidity Condition Type
#&gt; |- 10: -15.5,              !- Wetbulb or DewPoint at Maximum Dry-Bulb {C}
#&gt; |- 11: &lt;"Blank"&gt;,          !- Humidity Condition Day Schedule Name
#&gt; |- 12: &lt;Blank&gt;,            !- Humidity Ratio at Maximum Dry-Bulb {kgWater/k...
#&gt; |- 13: &lt;Blank&gt;,            !- Enthalpy at Maximum Dry-Bulb {J/kg}
#&gt; |- 14: &lt;Blank&gt;,            !- Daily Wet-Bulb Temperature Range {deltaC}
#&gt; |- 15: 81198,              !- Barometric Pressure {Pa}
#&gt; |- 16: 3,                  !- Wind Speed {m/s}
#&gt; |- 17: 340,                !- Wind Direction {deg}
#&gt; |- 18: "No",               !- Rain Indicator
#&gt; |- 19: "No",               !- Snow Indicator
#&gt; |- 20: "No",               !- Daylight Saving Time Indicator
#&gt; |- 21: "ASHRAEClearSky",   !- Solar Model Indicator
#&gt; |- 22: &lt;"Blank"&gt;,          !- Beam Solar Day Schedule Name
#&gt; |- 23: &lt;"Blank"&gt;,          !- Diffuse Solar Day Schedule Name
#&gt; |- 24: &lt;Blank&gt;,            !- ASHRAE Clear Sky Optical Depth for Beam Irrad...
#&gt; |- 25: &lt;Blank&gt;,            !- ASHRAE Clear Sky Optical Depth for Diffuse Ir...
#&gt; \- 26: 0;                  !- Sky Clearness
#&gt; </div><div class='input'><span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>objects</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Simple One Zone (Wireframe DXF)"</span>, <span class='st'>"zone one"</span>))</div><div class='output co'>#&gt; $`Simple One Zone (Wireframe DXF)`
#&gt; &lt;IdfObject: `Building`&gt; [ID:3] `Simple One Zone (Wireframe DXF)`
#&gt; Class: &lt;Building&gt;
#&gt; +- 1: "Simple One Zone (Wireframe DXF)",  !- Name
#&gt; |- 2: 0,                  !- North Axis {deg}
#&gt; |- 3: "Suburbs",          !- Terrain
#&gt; |- 4: 0.04,               !- Loads Convergence Tolerance Value
#&gt; |- 5: 0.004,              !- Temperature Convergence Tolerance Value {delta...
#&gt; |- 6: "MinimalShadowing", !- Solar Distribution
#&gt; |- 7: 30,                 !- Maximum Number of Warmup Days
#&gt; \- 8: 6;                  !- Minimum Number of Warmup Days
#&gt; 
#&gt; $`ZONE ONE`
#&gt; &lt;IdfObject: `Zone`&gt; [ID:18] `ZONE ONE`
#&gt; Class: &lt;Zone&gt;
#&gt; +- 1: "ZONE ONE",      !- Name
#&gt; |- 2: 0,               !- Direction of Relative North {deg}
#&gt; |- 3: 0,               !- X Origin {m}
#&gt; |- 4: 0,               !- Y Origin {m}
#&gt; |- 5: 0,               !- Z Origin {m}
#&gt; |- 6: 1,               !- Type
#&gt; |- 7: 1,               !- Multiplier
#&gt; |- 8: autocalculate,   !- Ceiling Height {m}
#&gt; \- 9: autocalculate;   !- Volume {m3}
#&gt; </div><div class='input'>
<span class='co'># the names of returned list are object names</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/ls'>objects</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Simple One Zone (Wireframe DXF)"</span>, <span class='st'>"zone one"</span>)))</div><div class='output co'>#&gt; [1] "Simple One Zone (Wireframe DXF)" "ZONE ONE"                       </div><div class='input'>
<span class='co'># get all objects in classes in a named list</span>
<span class='no'>idf</span>$<span class='fu'>objects_in_class</span>(<span class='st'>"Zone"</span>)</div><div class='output co'>#&gt; $`ZONE ONE`
#&gt; &lt;IdfObject: `Zone`&gt; [ID:18] `ZONE ONE`
#&gt; Class: &lt;Zone&gt;
#&gt; +- 1: "ZONE ONE",      !- Name
#&gt; |- 2: 0,               !- Direction of Relative North {deg}
#&gt; |- 3: 0,               !- X Origin {m}
#&gt; |- 4: 0,               !- Y Origin {m}
#&gt; |- 5: 0,               !- Z Origin {m}
#&gt; |- 6: 1,               !- Type
#&gt; |- 7: 1,               !- Multiplier
#&gt; |- 8: autocalculate,   !- Ceiling Height {m}
#&gt; \- 9: autocalculate;   !- Volume {m3}
#&gt; </div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'>objects_in_class</span>(<span class='st'>"Zone"</span>))</div><div class='output co'>#&gt; [1] "ZONE ONE"</div><div class='input'>
<span class='co'># OR using shortcuts</span>
<span class='no'>idf</span>$<span class='no'>Zone</span></div><div class='output co'>#&gt; $`ZONE ONE`
#&gt; &lt;IdfObject: `Zone`&gt; [ID:18] `ZONE ONE`
#&gt; Class: &lt;Zone&gt;
#&gt; +- 1: "ZONE ONE",      !- Name
#&gt; |- 2: 0,               !- Direction of Relative North {deg}
#&gt; |- 3: 0,               !- X Origin {m}
#&gt; |- 4: 0,               !- Y Origin {m}
#&gt; |- 5: 0,               !- Z Origin {m}
#&gt; |- 6: 1,               !- Type
#&gt; |- 7: 1,               !- Multiplier
#&gt; |- 8: autocalculate,   !- Ceiling Height {m}
#&gt; \- 9: autocalculate;   !- Volume {m3}
#&gt; </div><div class='input'><span class='no'>idf</span><span class='kw'>[[</span><span class='st'>"Zone"</span>]]</div><div class='output co'>#&gt; $`ZONE ONE`
#&gt; &lt;IdfObject: `Zone`&gt; [ID:18] `ZONE ONE`
#&gt; Class: &lt;Zone&gt;
#&gt; +- 1: "ZONE ONE",      !- Name
#&gt; |- 2: 0,               !- Direction of Relative North {deg}
#&gt; |- 3: 0,               !- X Origin {m}
#&gt; |- 4: 0,               !- Y Origin {m}
#&gt; |- 5: 0,               !- Z Origin {m}
#&gt; |- 6: 1,               !- Type
#&gt; |- 7: 1,               !- Multiplier
#&gt; |- 8: autocalculate,   !- Ceiling Height {m}
#&gt; \- 9: autocalculate;   !- Volume {m3}
#&gt; </div><div class='input'>
<span class='co'># get a single object in unique-object class</span>
<span class='no'>idf</span>$<span class='fu'>object_unique</span>(<span class='st'>"SimulationControl"</span>)</div><div class='output co'>#&gt; &lt;IdfObject: `SimulationControl`&gt; [ID:7]
#&gt; Class: &lt;SimulationControl&gt;
#&gt; +- 1: "No",       !- Do Zone Sizing Calculation
#&gt; |- 2: "No",       !- Do System Sizing Calculation
#&gt; |- 3: "No",       !- Do Plant Sizing Calculation
#&gt; |- 4: "Yes",      !- Run Simulation for Sizing Periods
#&gt; \- 5: "Yes";      !- Run Simulation for Weather File Run Periods</div><div class='input'><span class='no'>idf</span>$<span class='no'>SimulationControl</span></div><div class='output co'>#&gt; &lt;IdfObject: `SimulationControl`&gt; [ID:7]
#&gt; Class: &lt;SimulationControl&gt;
#&gt; +- 1: "No",       !- Do Zone Sizing Calculation
#&gt; |- 2: "No",       !- Do System Sizing Calculation
#&gt; |- 3: "No",       !- Do Plant Sizing Calculation
#&gt; |- 4: "Yes",      !- Run Simulation for Sizing Periods
#&gt; \- 5: "Yes";      !- Run Simulation for Weather File Run Periods</div><div class='input'><span class='no'>idf</span><span class='kw'>[[</span><span class='st'>"SimulationControl"</span>]]</div><div class='output co'>#&gt; &lt;IdfObject: `SimulationControl`&gt; [ID:7]
#&gt; Class: &lt;SimulationControl&gt;
#&gt; +- 1: "No",       !- Do Zone Sizing Calculation
#&gt; |- 2: "No",       !- Do System Sizing Calculation
#&gt; |- 3: "No",       !- Do Plant Sizing Calculation
#&gt; |- 4: "Yes",      !- Run Simulation for Sizing Periods
#&gt; \- 5: "Yes";      !- Run Simulation for Weather File Run Periods</div><div class='input'>
<span class='co'># search objects using regular expression</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"R13"</span>))</div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"R13"</span>))</div><div class='output co'>#&gt; [1] "R13LAYER" "R13WALL" </div><div class='input'>
<span class='co'># search objects using regular expression in specifc class</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"R13"</span>, <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"Construction"</span>))</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"R13"</span>, <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"Construction"</span>))</div><div class='output co'>#&gt; [1] "R13WALL"</div><div class='input'>
<span class='co'># get more controls on matching</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"r\\d"</span>, <span class='kw'>ignore.case</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"Construction"</span>))</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'>search_object</span>(<span class='st'>"r\\d"</span>, <span class='kw'>ignore.case</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>class</span> <span class='kw'>=</span> <span class='st'>"Construction"</span>))</div><div class='output co'>#&gt; [1] "R13WALL"</div><div class='input'>
# ===== DUPLICATE OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># duplicate objects in "Construction" class</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='no'>Construction</span>)
<span class='no'>idf</span>$<span class='fu'>dup</span>(<span class='st'>"R13WALL"</span>)

<span class='co'># new objects will have the same names as the duplicated objects but with a</span>
<span class='co'># suffix "_1", "_2" and etc.</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='no'>Construction</span>)

<span class='co'># new names can also be explicitly specified</span>
<span class='no'>idf</span>$<span class='fu'>dup</span>(<span class='kw'>My_R13Wall</span> <span class='kw'>=</span> <span class='st'>"R13WALL"</span>)

<span class='co'># duplicate an object multiple times</span>
<span class='no'>idf</span>$<span class='fu'>dup</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='st'>"R13WALL"</span>, <span class='kw'>times</span> <span class='kw'>=</span> <span class='fl'>10</span>))
<span class='co'># }</span><div class='input'>
# ===== ADD OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># add two new objects in "RunPeriod" class</span>
<span class='no'>idf</span>$<span class='fu'>add</span>(
    <span class='kw'>RunPeriod</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='st'>"rp_test_1"</span>, <span class='fl'>1</span>, <span class='fl'>1</span>, <span class='fl'>2</span>, <span class='fl'>1</span>,
        <span class='kw'>.comment</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"Comment for new object 1"</span>, <span class='st'>"Another comment"</span>)
    ),

    <span class='kw'>RunPeriod</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"rp_test_2"</span>,
        <span class='kw'>begin_month</span> <span class='kw'>=</span> <span class='fl'>3</span>,
        <span class='kw'>begin_day_of_month</span> <span class='kw'>=</span> <span class='fl'>1</span>,
        <span class='kw'>end_month</span> <span class='kw'>=</span> <span class='fl'>4</span>,
        <span class='kw'>end_day_of_month</span> <span class='kw'>=</span> <span class='fl'>1</span>,
        <span class='kw'>.comment</span> <span class='kw'>=</span> <span class='st'>"Comment for new object 2"</span>
     )
)
<span class='co'># }</span><div class='input'>
# ===== INSERT OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># insert objects from other Idf object</span>
<span class='no'>idf_1</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/system.file'>system.file</a></span>(<span class='st'>"extdata/1ZoneUncontrolled.idf"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"eplusr"</span>),
    <span class='kw'>idd</span> <span class='kw'>=</span> <span class='fu'><a href='use_idd.html'>use_idd</a></span>(<span class='fl'>8.8</span>, <span class='kw'>download</span> <span class='kw'>=</span> <span class='st'>"auto"</span>))

<span class='no'>idf_1</span>$<span class='fu'>object_name</span>(<span class='st'>"Material"</span>)

<span class='co'># rename material name from "C5 - 4 IN HW CONCRETE" to "test", otherwise</span>
<span class='co'># insertion will be aborted as there will be two materials with the same name</span>
<span class='co'># in the idf</span>
<span class='no'>idf_1</span>$<span class='no'>Material</span>$<span class='no'>`C5 - 4 IN HW CONCRETE`</span>$<span class='fu'>set</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"test"</span>)

<span class='co'># insert the object</span>
<span class='no'>idf</span>$<span class='fu'>insert</span>(<span class='no'>idf_1</span>$<span class='no'>Material</span>$<span class='no'>test</span>)

<span class='co'># check if material named "test" is there</span>
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Material"</span>)

<span class='co'># $insert() is useful when importing design days from a ".ddy" file</span>
<span class='no'>idf</span>$<span class='fu'>insert</span>(<span class='fu'><a href='read_idf.html'>read_idf</a></span>(<span class='st'>"foo.ddy"</span>))
<span class='co'># }</span><div class='input'>
# ===== SET OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># set the thickness of newly inserted material "test" to 0.2 m</span>
<span class='no'>idf</span>$<span class='fu'>set</span>(<span class='kw'>test</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>thickness</span> <span class='kw'>=</span> <span class='fl'>0.2</span>))
<span class='no'>idf</span>$<span class='no'>Material</span>$<span class='no'>test</span>$<span class='no'>Thickness</span>

<span class='co'># set thermal absorptance of all material to 0.85</span>
<span class='no'>val</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>thermal_absorptance</span> <span class='kw'>=</span> <span class='fl'>0.85</span>)), <span class='no'>idf</span>$<span class='fu'>object_num</span>(<span class='st'>"Material"</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>val</span>) <span class='kw'>&lt;-</span> <span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Material"</span>, <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>idf</span>$<span class='fu'>set</span>(<span class='no'>val</span>)

<span class='co'># check results</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>lapply</a></span>(<span class='no'>idf</span>$<span class='no'>Material</span>, <span class='kw'>function</span> (<span class='no'>mat</span>) <span class='no'>mat</span>$<span class='no'>Thermal_Absorptance</span>)

<span class='co'># reset thermal absorptance of all material to the default</span>
<span class='no'>val</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/rep'>rep</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>thermal_absorptance</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)), <span class='no'>idf</span>$<span class='fu'>object_num</span>(<span class='st'>"Material"</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>val</span>) <span class='kw'>&lt;-</span> <span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Material"</span>, <span class='kw'>simplify</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>idf</span>$<span class='fu'>set</span>(<span class='no'>val</span>)

<span class='co'># check results</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/lapply'>lapply</a></span>(<span class='no'>idf</span>$<span class='no'>Material</span>, <span class='kw'>function</span> (<span class='no'>mat</span>) <span class='no'>mat</span>$<span class='no'>Thermal_Absorptance</span>)
<span class='co'># }</span><div class='input'>
# ===== RENAME OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='no'>idf</span>$<span class='fu'>rename</span>(<span class='kw'>new_test</span> <span class='kw'>=</span> <span class='st'>"test"</span>)
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Material"</span>)
<span class='co'># }</span><div class='input'>
# ===== DELELTE OBJECTS =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># delete the added run period "rp_test_1", "rp_test_2" and "new_test" from above</span>
<span class='no'>idf</span>$<span class='fu'>del</span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/c'>c</a></span>(<span class='st'>"new_test"</span>, <span class='st'>"rp_test_1"</span>, <span class='st'>"rp_test_2"</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='no'>Material</span>)
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='no'>RunPeriod</span>)

<span class='co'># In "final" validate level, delete will be aborted if the target objects are</span>
<span class='co'># referenced by other objects.</span>
<span class='co'># get objects that referenced material "R13LAYER"</span>
<span class='fu'><a href='eplusr_option.html'>eplusr_option</a></span>(<span class='st'>"validate_level"</span>)

<span class='no'>idf</span>$<span class='no'>Material_NoMass</span>$<span class='no'>R13LAYER</span>$<span class='fu'>ref_by_object</span>()
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>idf</span>$<span class='no'>Material_NoMass</span>$<span class='no'>R13LAYER</span>$<span class='fu'>ref_by_object</span>())

<span class='no'>idf</span>$<span class='fu'>del</span>(<span class='st'>"R13LAYER"</span>) <span class='co'># will give an error in "final" validate level</span>

<span class='co'># objects referencing target objects can also be deleted by setting</span>
<span class='co'># `referenced` to TRUE</span>
<span class='no'>idf</span>$<span class='fu'>del</span>(<span class='st'>"R13LAYER"</span>, <span class='kw'>.ref_by</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>) <span class='co'># will give an error in "final" validate level</span>

<span class='co'># it is possible to force delete objects</span>
<span class='no'>idf</span>$<span class='fu'>del</span>(<span class='st'>"R13LAYER"</span>, <span class='kw'>.ref_by</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>.force</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='co'># }</span><div class='input'>
<span class='co'># ===== SEARCH ADN REPLACE OBJECT VALUES =====</span>
<span class='co'># get objects whose field values contains both "VAV" and "Node"</span>
<span class='no'>idf</span>$<span class='fu'>search_value</span>(<span class='st'>"WALL"</span>)</div><div class='output co'>#&gt; $R13WALL
#&gt; &lt;IdfObject: `Construction`&gt; [ID:15] `R13WALL`
#&gt; Class: &lt;Construction&gt;
#&gt; +- 1: "R13WALL",  !- Name
#&gt; \- 2: "R13LAYER"; !- Outside Layer
#&gt; 
#&gt; $`Zn001:Wall001`
#&gt; &lt;IdfObject: `BuildingSurface:Detailed`&gt; [ID:21] `Zn001:Wall001`
#&gt; Class: &lt;BuildingSurface:Detailed&gt;
#&gt; +- 01: "Zn001:Wall001", !- Name
#&gt; |- 02: "Wall",          !- Surface Type
#&gt; |- 03: "R13WALL",       !- Construction Name
#&gt; |- 04: "ZONE ONE",      !- Zone Name
#&gt; |- 05: "Outdoors",      !- Outside Boundary Condition
#&gt; |- 06: &lt;"Blank"&gt;,       !- Outside Boundary Condition Object
#&gt; |- 07: "SunExposed",    !- Sun Exposure
#&gt; |- 08: "WindExposed",   !- Wind Exposure
#&gt; |- 09: 0.5,             !- View Factor to Ground
#&gt; |- 10: 4,               !- Number of Vertices
#&gt; |- 11: 0,               !- Vertex 1 X-coordinate {m}
#&gt; |- 12: 0,               !- Vertex 1 Y-coordinate {m}
#&gt; |- 13: 4.572,           !- Vertex 1 Z-coordinate {m}
#&gt; |- 14: 0,               !- Vertex 2 X-coordinate {m}
#&gt; |- 15: 0,               !- Vertex 2 Y-coordinate {m}
#&gt; |- 16: 0,               !- Vertex 2 Z-coordinate {m}
#&gt; |- 17: 15.24,           !- Vertex 3 X-coordinate {m}
#&gt; |- 18: 0,               !- Vertex 3 Y-coordinate {m}
#&gt; |- 19: 0,               !- Vertex 3 Z-coordinate {m}
#&gt; |- 20: 15.24,           !- Vertex 4 X-coordinate {m}
#&gt; |- 21: 0,               !- Vertex 4 Y-coordinate {m}
#&gt; \- 22: 4.572;           !- Vertex 4 Z-coordinate {m}
#&gt; 
#&gt; $`Zn001:Wall002`
#&gt; &lt;IdfObject: `BuildingSurface:Detailed`&gt; [ID:22] `Zn001:Wall002`
#&gt; Class: &lt;BuildingSurface:Detailed&gt;
#&gt; +- 01: "Zn001:Wall002", !- Name
#&gt; |- 02: "Wall",          !- Surface Type
#&gt; |- 03: "R13WALL",       !- Construction Name
#&gt; |- 04: "ZONE ONE",      !- Zone Name
#&gt; |- 05: "Outdoors",      !- Outside Boundary Condition
#&gt; |- 06: &lt;"Blank"&gt;,       !- Outside Boundary Condition Object
#&gt; |- 07: "SunExposed",    !- Sun Exposure
#&gt; |- 08: "WindExposed",   !- Wind Exposure
#&gt; |- 09: 0.5,             !- View Factor to Ground
#&gt; |- 10: 4,               !- Number of Vertices
#&gt; |- 11: 15.24,           !- Vertex 1 X-coordinate {m}
#&gt; |- 12: 0,               !- Vertex 1 Y-coordinate {m}
#&gt; |- 13: 4.572,           !- Vertex 1 Z-coordinate {m}
#&gt; |- 14: 15.24,           !- Vertex 2 X-coordinate {m}
#&gt; |- 15: 0,               !- Vertex 2 Y-coordinate {m}
#&gt; |- 16: 0,               !- Vertex 2 Z-coordinate {m}
#&gt; |- 17: 15.24,           !- Vertex 3 X-coordinate {m}
#&gt; |- 18: 15.24,           !- Vertex 3 Y-coordinate {m}
#&gt; |- 19: 0,               !- Vertex 3 Z-coordinate {m}
#&gt; |- 20: 15.24,           !- Vertex 4 X-coordinate {m}
#&gt; |- 21: 15.24,           !- Vertex 4 Y-coordinate {m}
#&gt; \- 22: 4.572;           !- Vertex 4 Z-coordinate {m}
#&gt; 
#&gt; $`Zn001:Wall003`
#&gt; &lt;IdfObject: `BuildingSurface:Detailed`&gt; [ID:23] `Zn001:Wall003`
#&gt; Class: &lt;BuildingSurface:Detailed&gt;
#&gt; +- 01: "Zn001:Wall003", !- Name
#&gt; |- 02: "Wall",          !- Surface Type
#&gt; |- 03: "R13WALL",       !- Construction Name
#&gt; |- 04: "ZONE ONE",      !- Zone Name
#&gt; |- 05: "Outdoors",      !- Outside Boundary Condition
#&gt; |- 06: &lt;"Blank"&gt;,       !- Outside Boundary Condition Object
#&gt; |- 07: "SunExposed",    !- Sun Exposure
#&gt; |- 08: "WindExposed",   !- Wind Exposure
#&gt; |- 09: 0.5,             !- View Factor to Ground
#&gt; |- 10: 4,               !- Number of Vertices
#&gt; |- 11: 15.24,           !- Vertex 1 X-coordinate {m}
#&gt; |- 12: 15.24,           !- Vertex 1 Y-coordinate {m}
#&gt; |- 13: 4.572,           !- Vertex 1 Z-coordinate {m}
#&gt; |- 14: 15.24,           !- Vertex 2 X-coordinate {m}
#&gt; |- 15: 15.24,           !- Vertex 2 Y-coordinate {m}
#&gt; |- 16: 0,               !- Vertex 2 Z-coordinate {m}
#&gt; |- 17: 0,               !- Vertex 3 X-coordinate {m}
#&gt; |- 18: 15.24,           !- Vertex 3 Y-coordinate {m}
#&gt; |- 19: 0,               !- Vertex 3 Z-coordinate {m}
#&gt; |- 20: 0,               !- Vertex 4 X-coordinate {m}
#&gt; |- 21: 15.24,           !- Vertex 4 Y-coordinate {m}
#&gt; \- 22: 4.572;           !- Vertex 4 Z-coordinate {m}
#&gt; 
#&gt; $`Zn001:Wall004`
#&gt; &lt;IdfObject: `BuildingSurface:Detailed`&gt; [ID:24] `Zn001:Wall004`
#&gt; Class: &lt;BuildingSurface:Detailed&gt;
#&gt; +- 01: "Zn001:Wall004", !- Name
#&gt; |- 02: "Wall",          !- Surface Type
#&gt; |- 03: "R13WALL",       !- Construction Name
#&gt; |- 04: "ZONE ONE",      !- Zone Name
#&gt; |- 05: "Outdoors",      !- Outside Boundary Condition
#&gt; |- 06: &lt;"Blank"&gt;,       !- Outside Boundary Condition Object
#&gt; |- 07: "SunExposed",    !- Sun Exposure
#&gt; |- 08: "WindExposed",   !- Wind Exposure
#&gt; |- 09: 0.5,             !- View Factor to Ground
#&gt; |- 10: 4,               !- Number of Vertices
#&gt; |- 11: 0,               !- Vertex 1 X-coordinate {m}
#&gt; |- 12: 15.24,           !- Vertex 1 Y-coordinate {m}
#&gt; |- 13: 4.572,           !- Vertex 1 Z-coordinate {m}
#&gt; |- 14: 0,               !- Vertex 2 X-coordinate {m}
#&gt; |- 15: 15.24,           !- Vertex 2 Y-coordinate {m}
#&gt; |- 16: 0,               !- Vertex 2 Z-coordinate {m}
#&gt; |- 17: 0,               !- Vertex 3 X-coordinate {m}
#&gt; |- 18: 0,               !- Vertex 3 Y-coordinate {m}
#&gt; |- 19: 0,               !- Vertex 3 Z-coordinate {m}
#&gt; |- 20: 0,               !- Vertex 4 X-coordinate {m}
#&gt; |- 21: 0,               !- Vertex 4 Y-coordinate {m}
#&gt; \- 22: 4.572;           !- Vertex 4 Z-coordinate {m}
#&gt; </div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/length'>length</a></span>(<span class='no'>idf</span>$<span class='fu'>search_value</span>(<span class='st'>"WALL"</span>))</div><div class='output co'>#&gt; [1] 5</div><div class='input'><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/names'>names</a></span>(<span class='no'>idf</span>$<span class='fu'>search_value</span>(<span class='st'>"WALL"</span>))</div><div class='output co'>#&gt; [1] "R13WALL"       "Zn001:Wall001" "Zn001:Wall002" "Zn001:Wall003"
#&gt; [5] "Zn001:Wall004"</div><div class='input'>
# replace values using regular expression
</div><span class='co'># NOT RUN {</span>
<span class='no'>idf</span>$<span class='fu'>replace_value</span>(<span class='st'>"WALL"</span>, <span class='st'>"A_WALL"</span>)
<span class='co'># }</span><div class='input'>
# ===== VALIDATE MODEL =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># check if there are errors in current model</span>
<span class='no'>idf</span>$<span class='fu'>validate</span>()
<span class='no'>idf</span>$<span class='fu'>is_valid</span>()

<span class='co'># change validate level to "none", which will enable invalid modifications</span>
<span class='fu'><a href='eplusr_option.html'>eplusr_option</a></span>(<span class='kw'>validate_level</span> <span class='kw'>=</span> <span class='st'>"none"</span>)

<span class='co'># change the outside layer of floor to an invalid material</span>
<span class='no'>idf</span>$<span class='fu'>set</span>(<span class='kw'>FLOOR</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>outside_layer</span> <span class='kw'>=</span> <span class='st'>"wrong_layer"</span>))

<span class='co'># change validate level back to "final" and validate the model again</span>
<span class='fu'><a href='eplusr_option.html'>eplusr_option</a></span>(<span class='kw'>validate_level</span> <span class='kw'>=</span> <span class='st'>"final"</span>)

<span class='no'>idf</span>$<span class='fu'>validate</span>()
<span class='no'>idf</span>$<span class='fu'>is_valid</span>()

<span class='co'># get IDs of all objects that contains invalid reference fields</span>
<span class='no'>idf</span>$<span class='fu'>validate</span>()$<span class='no'>invalid_reference</span>$<span class='no'>object_id</span>

<span class='co'># fix the error</span>
<span class='no'>idf</span>$<span class='fu'>set</span>(<span class='kw'>..16</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list'>list</a></span>(<span class='kw'>outside_layer</span> <span class='kw'>=</span> <span class='no'>idf</span>$<span class='no'>Material</span><span class='kw'>[[</span><span class='fl'>1</span>]]$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/name'>name</a></span>()))
<span class='no'>idf</span>$<span class='fu'>validate</span>()
<span class='no'>idf</span>$<span class='fu'>is_valid</span>()
<span class='co'># }</span><div class='input'><span class='co'># ===== FORMAT MODEL =====</span>
<span class='co'># get text format of the model</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>idf</span>$<span class='fu'>to_string</span>())</div><div class='output co'>#&gt; [1] "!-Generator eplusr"                                                                          
#&gt; [2] "!-Option SortedOrder"                                                                        
#&gt; [3] ""                                                                                            
#&gt; [4] "!-NOTE: All comments with '!-' are ignored by the IDFEditor and are generated automatically."
#&gt; [5] "!-      Use '!' comments if they need to be retained when using the IDFEditor."              
#&gt; [6] ""                                                                                            </div><div class='input'>
<span class='co'># get text format of the model, excluding the header and all comments</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/head'>head</a></span>(<span class='no'>idf</span>$<span class='fu'>to_string</span>(<span class='kw'>comment</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>header</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>))</div><div class='output co'>#&gt; [1] "!-   ===========  ALL OBJECTS IN CLASS: VERSION ==========="
#&gt; [2] ""                                                           
#&gt; [3] "Version,"                                                   
#&gt; [4] "    8.8;                     !- Version Identifier"         
#&gt; [5] ""                                                           
#&gt; [6] ""                                                           </div><div class='input'>
<span class='co'># ===== SAVE MODEL =====</span>
<span class='co'># check if the model has been modified since read or last saved</span>
<span class='no'>idf</span>$<span class='fu'>is_unsaved</span>()</div><div class='output co'>#&gt; [1] FALSE</div><div class='input'>
</div><span class='co'># NOT RUN {</span>
<span class='co'># save and overwrite current model</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/save'>save</a></span>(<span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># save the model with newly created and modified objects at the top</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/save'>save</a></span>(<span class='kw'>overwrite</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>format</span> <span class='kw'>=</span> <span class='st'>"new_top"</span>)

<span class='co'># save the model to a new file</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/save'>save</a></span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='st'>"test.idf"</span>))

<span class='co'># save the model to a new file and copy all external csv files used in</span>
<span class='co'># "Schedule:File" class into the same folder</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/save'>save</a></span>(<span class='kw'>path</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='st'>"test1.idf"</span>), <span class='kw'>copy_external</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

<span class='co'># the path of this model will be changed to the saved path</span>
<span class='no'>idf</span>$<span class='fu'>path</span>()
<span class='co'># }</span><div class='input'>
# ===== CLONE MODEL =====
</div><span class='co'># NOT RUN {</span>
<span class='co'># Idf object are modified in place and has reference semantic.</span>
<span class='no'>idf_2</span> <span class='kw'>&lt;-</span> <span class='no'>idf</span>
<span class='no'>idf_2</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)

<span class='co'># modify idf_2 will also affect idf as well</span>
<span class='no'>idf_2</span>$<span class='no'>Building</span>$<span class='fu'>set</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Building_Name_Changed"</span>)
<span class='no'>idf_2</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)
<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)

<span class='co'># in order to make a copy of an Idf object, use $clone() method</span>
<span class='no'>idf_3</span> <span class='kw'>&lt;-</span> <span class='no'>idf</span>$<span class='fu'>clone</span>(<span class='kw'>deep</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)
<span class='no'>idf_3</span>$<span class='no'>Building</span>$<span class='fu'>set</span>(<span class='kw'>name</span> <span class='kw'>=</span> <span class='st'>"Building_Name_Changed_Again"</span>)
<span class='no'>idf_3</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)

<span class='no'>idf</span>$<span class='fu'>object_name</span>(<span class='st'>"Building"</span>)
<span class='co'># }</span><div class='input'>
# ===== RUN MODEL =====
</div><span class='co'># NOT RUN {</span>
<span class='kw'>if</span> (<span class='fu'><a href='use_eplus.html'>is_avail_eplus</a></span>(<span class='fl'>8.8</span>)) {

    <span class='co'># save the model to tempdir()</span>
    <span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/save'>save</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='st'>"test_run.idf"</span>))

    <span class='co'># use the first epw file in "WeatherData" folder in EnergyPlus v8.8</span>
    <span class='co'># installation path</span>
    <span class='no'>epw</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/list.files'>list.files</a></span>(<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/file.path'>file.path</a></span>(<span class='fu'><a href='use_eplus.html'>eplus_config</a></span>(<span class='fl'>8.8</span>)$<span class='no'>dir</span>, <span class='st'>"WeatherData"</span>),
        <span class='kw'>pattern</span> <span class='kw'>=</span> <span class='st'>"\\.epw$"</span>, <span class='kw'>full.names</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)[<span class='fl'>1</span>]
    <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/basename'>basename</a></span>(<span class='no'>epw</span>)
    <span class='co'># [1] "USA_CA_San.Francisco.Intl.AP.724940_TMY3.epw"</span>

    <span class='co'># if `dir` is NULL, the directory of IDF file will be used as simulation</span>
    <span class='co'># output directory</span>
    <span class='no'>job</span> <span class='kw'>&lt;-</span> <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='no'>epw</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)

    <span class='co'># run simulation in the background</span>
    <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='no'>epw</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='kw'>wait</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>)

    <span class='co'># copy all external files into the directory run simulation</span>
    <span class='no'>idf</span>$<span class='fu'>run</span>(<span class='no'>epw</span>, <span class='kw'>dir</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/tempfile'>tempdir</a></span>(), <span class='kw'>copy_external</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)

    <span class='co'># check for simulation errors</span>
    <span class='no'>job</span>$<span class='fu'>errors</span>()

    <span class='co'># get simulation status</span>
    <span class='no'>job</span>$<span class='fu'>status</span>()

    <span class='co'># get output directory</span>
    <span class='no'>job</span>$<span class='fu'>output_dir</span>()

    <span class='co'># re-run the simulation</span>
    <span class='no'>job</span>$<span class='fu'>run</span>()

    <span class='co'># get simulation results</span>
    <span class='no'>job</span>$<span class='fu'>report_data</span>()
}
<span class='co'># }</span><div class='input'># ===== PRINT MODEL =====
</div><span class='co'># NOT RUN {</span>
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='st'>"group"</span>)
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='st'>"class"</span>)
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='st'>"object"</span>)
<span class='no'>idf</span>$<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/print'>print</a></span>(<span class='st'>"field"</span>)
<span class='co'># }</span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      
      <li><a href="#overview">Overview</a></li>

      <li><a href="#usage">Usage</a></li>

      <li><a href="#basic-info">Basic Info</a></li>

      <li><a href="#definition">Definition</a></li>

      <li><a href="#object-info">Object Info</a></li>

      <li><a href="#object-relation">Object Relation</a></li>

      <li><a href="#object-query">Object Query</a></li>

      <li><a href="#object-modification">Object Modification</a></li>

      <li><a href="#validation">Validation</a></li>

      <li><a href="#data-extraction">Data Extraction</a></li>

      <li><a href="#save">Save</a></li>

      <li><a href="#clone">Clone</a></li>

      <li><a href="#run-model">Run Model</a></li>

      <li><a href="#print">Print</a></li>

      <li><a href="#see-also">See also</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

    <h2>Author</h2>
    <p>Hongyuan Jia</p>
  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by <a href='https://github.com/hongyuanjia'>Hongyuan Jia</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script>
<script>
  docsearch({
    
    
    apiKey: '158ff4599f27d2efdd371e5200cdb538',
    indexName: 'eplusr',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>


  </body>
</html>

